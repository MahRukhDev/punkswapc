(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[12],{"./src/components/ProAmm/ProAmmFee.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var n=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=o("./node_modules/@lingui/react/esm/index.js"),r=o("./node_modules/@lingui/core/esm/index.js"),c=o("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),a=o("./node_modules/react/index.js"),d=o("./node_modules/react-feather/dist/icons/info.js"),l=o("./node_modules/rebass/dist/index.esm.js"),b=o("./src/components/Button/index.tsx"),u=o("./src/components/Card/index.tsx"),j=o("./src/components/Column/index.tsx"),p=o("./src/components/CurrencyLogo/index.tsx"),m=o("./src/components/Divider/index.tsx"),x=o("./src/components/FormattedCurrencyAmount/index.tsx"),h=o("./src/components/QuestionHelper/index.tsx"),O=o("./src/components/Row/index.tsx"),f=o("./src/components/Tooltip/index.tsx"),g=o("./src/hooks/index.ts"),v=o("./src/hooks/useContract.ts"),y=o("./src/hooks/useMixpanel.ts"),k=o("./src/hooks/useTheme.ts"),w=o("./src/hooks/useTransactionDeadline.ts"),I=o("./src/state/transactions/hooks.tsx"),C=o("./src/state/transactions/type.ts"),S=o("./src/state/user/hooks.tsx"),L=o("./src/utils/index.ts"),_=o("./src/utils/wrappedCurrency.ts"),T=o("./node_modules/react/jsx-runtime.js");function P(e){var t=e.tokenId,o=e.position,P=e.layout,A=void 0===P?0:P,E=e.text,M=void 0===E?"":E,R=e.hasUserDepositedInFarm,z=e.feeValue0,F=e.feeValue1,q=e.totalFeeRewardUSD,N=Object(g.b)().account,W=Object(g.e)().library,D=Object(k.a)(),B=Object(_.a)(o.pool.token0),U=Object(_.a)(o.pool.token1),Y=Object(I.g)(),H=Object(v.m)(),V=Object(w.a)(),G=Object(y.c)().mixpanelHandler,Q=Object(S.y)(),K=Object(i.a)(Q,1)[0],J=o.liquidity.toString(),X=Object(a.useCallback)((()=>{if(z&&F&&H&&N&&t&&W&&V&&A){G(y.a.ELASTIC_COLLECT_FEES_INITIATED,{token_1:null===B||void 0===B?void 0:B.symbol,token_2:null===U||void 0===U?void 0:U.symbol});var e=c.NonfungiblePositionManager.collectCallParameters({tokenId:t.toString(),expectedCurrencyOwed0:z.subtract(z.multiply(Object(L.a)(K))),expectedCurrencyOwed1:F.subtract(F.multiply(Object(L.a)(K))),recipient:N,deadline:V.toString(),havingFee:!0,isPositionClosed:"0"===J}),o=e.calldata,i=e.value,s={to:H.address,data:o,value:i};W.getSigner().estimateGas(s).then((e=>{var t=Object(n.a)(Object(n.a)({},s),{},{gasLimit:Object(L.b)(e)});return W.getSigner().sendTransaction(t).then((e=>{var t,o,n=z.toSignificant(6),i=F.toSignificant(6),s=null!==(t=z.currency.symbol)&&void 0!==t?t:"",r=null!==(o=F.currency.symbol)&&void 0!==o?o:"";Y({hash:e.hash,type:C.c.ELASTIC_COLLECT_FEE,extraInfo:{tokenAmountIn:n,tokenAmountOut:i,tokenAddressIn:z.currency.wrapped.address,tokenAddressOut:F.currency.wrapped.address,tokenSymbolIn:s,tokenSymbolOut:r,arbitrary:{token_1:null===B||void 0===B?void 0:B.symbol,token_2:null===U||void 0===U?void 0:U.symbol,token_1_amount:n,token_2_amount:i}}})}))})).catch((e=>{console.error(e)}))}}),[z,F,H,N,t,Y,W,V,A,B,U,G,K,J]),Z=!(null!==z&&void 0!==z&&z.greaterThan(0)||null!==F&&void 0!==F&&F.greaterThan(0));return 0===A?Object(T.jsx)(u.e,{marginTop:"1rem",padding:"1rem",children:Object(T.jsxs)(j.a,{gap:"md",children:[Object(T.jsx)(l.e,{fontSize:"12px",fontWeight:"500",children:"Your Fee Earnings"}),M&&Object(T.jsx)(l.e,{color:D.subText,fontSize:"12px",children:M}),Object(T.jsx)(m.a,{}),Object(T.jsxs)(O.b,{children:[Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"Total Fees Earned"})}),Object(T.jsx)(O.d,{children:Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,marginLeft:"6px",children:Object(L.j)(q,!0)})})]}),Object(T.jsxs)(O.b,{children:[Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"{0} Fees Earned",values:{0:B.symbol}})}),Object(T.jsxs)(O.d,{children:[Object(T.jsx)(p.a,{size:"16px",style:{marginLeft:"8px"},currency:B}),Object(T.jsxs)(l.e,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[z&&Object(T.jsx)(x.a,{currencyAmount:z})," ",B.symbol]})]})]}),Object(T.jsxs)(O.b,{children:[Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"{0} Fees Earned",values:{0:U.symbol}})}),Object(T.jsxs)(O.d,{children:[Object(T.jsx)(p.a,{size:"16px",style:{marginLeft:"8px"},currency:U}),Object(T.jsxs)(l.e,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[F&&Object(T.jsx)(x.a,{currencyAmount:F})," ",U.symbol]})]})]})]})}):Object(T.jsx)(u.e,{marginTop:"1rem",padding:"1rem",children:Object(T.jsxs)(j.a,{gap:"md",children:[Object(T.jsxs)(O.b,{children:[Object(T.jsx)(l.b,{children:Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"Total Fees Earned"})})}),Object(T.jsx)(O.d,{children:Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,children:Object(L.j)(q,!0)})})]}),Object(T.jsxs)(O.b,{children:[Object(T.jsxs)(l.b,{children:[Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"{0} Fees Earned",values:{0:B.symbol}})}),Object(T.jsx)(h.a,{text:r.a._("Your fees are being automatically compounded so you earn more")})]}),Object(T.jsxs)(O.d,{children:[Object(T.jsx)(p.a,{size:"16px",style:{marginLeft:"8px"},currency:B}),Object(T.jsxs)(l.e,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[z&&Object(T.jsx)(x.a,{currencyAmount:z})," ",B.symbol]})]})]}),Object(T.jsxs)(O.b,{children:[Object(T.jsxs)(l.b,{children:[Object(T.jsx)(l.e,{fontSize:12,fontWeight:500,color:D.subText,children:Object(T.jsx)(s.b,{id:"{0} Fees Earned",values:{0:U.symbol}})}),Object(T.jsx)(h.a,{text:r.a._("Your fees are being automatically compounded so you earn more")})]}),Object(T.jsxs)(O.d,{children:[Object(T.jsx)(p.a,{size:"16px",style:{marginLeft:"8px"},currency:U}),Object(T.jsxs)(l.e,{fontSize:12,fontWeight:500,marginLeft:"6px",children:[F&&Object(T.jsx)(x.a,{currencyAmount:F})," ",U.symbol]})]})]}),R?Object(T.jsx)(f.a,{placement:"top",text:r.a._("You need to withdraw your deposited liquidity position from the Farm first"),children:Object(T.jsx)(l.b,{sx:{cursor:"not-allowed",width:"100%"},children:Object(T.jsx)(b.h,{style:{padding:"10px",fontSize:"14px",width:"100%",pointerEvents:"none"},disabled:!0,children:Object(T.jsxs)(l.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(T.jsx)(d.a,{size:16}),Object(T.jsx)(s.b,{id:"Collect Fees"})]})})})}):Object(T.jsx)(b.h,{disabled:Z,onClick:X,style:{padding:"10px",fontSize:"14px"},children:Object(T.jsxs)(l.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(T.jsx)(h.a,{placement:"top",size:16,text:Z?r.a._("You don't have any fees to collect"):r.a._("By collecting, you will receive 100% of your fee earnings"),useCurrentColor:!0}),Object(T.jsx)(s.b,{id:"Collect Fees"})]})})]})})}},"./src/components/Search/index.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return u}));var n=o("./node_modules/@lingui/core/esm/index.js"),i=(o("./node_modules/react/index.js"),o("./node_modules/react-feather/dist/icons/x.js")),s=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=o("./src/components/Button/index.tsx"),c=o("./node_modules/react/jsx-runtime.js");var a=function(e){var t=e.size,o=void 0===t?24:t,n=e.color;return Object(c.jsx)("svg",{width:o||24,height:o||24,viewBox:"0 0 ".concat(o," ").concat(o),fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{minWidth:o+"px"},children:Object(c.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M14.1931 5.58187C16.525 7.91369 16.525 11.6943 14.1931 14.0261C11.8613 16.358 8.08069 16.358 5.74887 14.0261C3.41704 11.6943 3.41704 7.91369 5.74887 5.58187C8.08069 3.25005 11.8613 3.25005 14.1931 5.58187",stroke:n||"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(c.jsx)("path",{d:"M14.1499 14.06L19.9999 19.99",stroke:n||"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},d=o("./src/hooks/useTheme.ts"),l=s.default.div.withConfig({displayName:"Search__Container",componentId:"sc-1uuk9w1-0"})(["z-index:1;position:relative;background-color:",";border-radius:999px;@media screen and (max-width:768px){width:100%;}"],(e=>e.theme.background)),b=s.default.div.withConfig({displayName:"Search__Wrapper",componentId:"sc-1uuk9w1-1"})(["display:flex;position:relative;flex-direction:row;align-items:center;justify-content:flex-end;padding:6px 12px;border-radius:40px;width:100%;min-width:",";box-sizing:border-box;@media screen and (max-width:500px){box-shadow:none;min-width:100%;}"],(e=>e.minWidth||"360px")),u=s.default.input.withConfig({displayName:"Search__Input",componentId:"sc-1uuk9w1-2"})(["position:relative;display:flex;align-items:center;white-space:nowrap;background:none;border:none;outline:none;width:100%;color:",";font-size:12px;::placeholder{color:",";font-size:12px;}"],(e=>e.theme.text),(e=>e.theme.subText));t.c=e=>{var t=e.searchValue,o=e.onSearch,s=e.placeholder,j=e.minWidth,p=e.style,m=Object(d.a)();return Object(c.jsx)(l,{style:p,children:Object(c.jsxs)(b,{minWidth:j,children:[Object(c.jsx)(u,{type:"text",placeholder:s||n.a._("Search by pool address"),value:t,onChange:e=>{o(e.target.value)}}),t&&Object(c.jsx)(r.d,{onClick:()=>o(""),style:{padding:"2px 4px",width:"max-content"},children:Object(c.jsx)(i.a,{color:m.subText,size:14,style:{minWidth:"14px"}})}),Object(c.jsx)(a,{color:m.subText})]})})}},"./src/components/SubscribeButton/index.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return v}));var n,i,s=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=o("./node_modules/@lingui/react/esm/index.js"),c=o("./node_modules/react/index.js"),a=o("./node_modules/rebass/dist/index.esm.js"),d=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=o("./src/components/Icons/NotificationIcon.tsx"),b=o("./src/hooks/index.ts"),u=o("./src/hooks/useMixpanel.ts"),j=o("./src/hooks/useNotification/index.ts"),p=o("./src/hooks/useTheme.ts"),m=o("./src/components/Button/index.tsx"),x=o("./src/components/Tooltip/index.tsx"),h=o("./node_modules/react/jsx-runtime.js"),O=e=>Object(d.css)(["width:36px;min-width:36px;padding:6px;background:",";&:hover{background:",";}"],e,e),f=Object(d.default)(m.j).withConfig({displayName:"SubscribeButton__SubscribeBtn",componentId:"sc-qmp7hf-0"})(["overflow:hidden;width:fit-content;height:36px;padding:8px 12px;background:",";color:",";&:hover{background:",";}",";",""],(e=>e.bgColor),(e=>{var t=e.theme;return e.isDisabled?t.border:t.textReverse}),(e=>e.bgColor),(e=>{var t=e.iconOnly,o=e.bgColor;return t&&O(o)}),(e=>{var t=e.theme,o=e.bgColor;return t.mediaWidth.upToExtraSmall(n||(n=Object(s.a)(["\n   ","\n  "])),O(o))})),g=Object(d.default)(a.e).withConfig({displayName:"SubscribeButton__ButtonText",componentId:"sc-qmp7hf-1"})(["font-size:14px;font-weight:500;margin-left:6px !important;",";",""],(e=>e.iconOnly&&"display: none"),(e=>e.theme.mediaWidth.upToExtraSmall(i||(i=Object(s.a)(["\n    display: none;\n  "])))));function v(e){var t=e.subscribeTooltip,o=e.iconOnly,n=void 0!==o&&o,i=e.trackingEvent,s=Object(p.a)(),a=Object(b.e)().account,d=Object(u.c)().mixpanelHandler,m=Object(j.a)().showNotificationModal,O=Object(c.useRef)(!1);Object(c.useEffect)((()=>{a&&O.current&&(m(),O.current=!1)}),[a,m]);return Object(h.jsx)(x.b,{text:t,width:"400px",children:Object(h.jsxs)(f,{bgColor:s.primary,onClick:()=>{m(),i&&setTimeout((()=>{d(i)}),100),a||(O.current=!0)},iconOnly:n,children:[Object(h.jsx)(l.a,{}),Object(h.jsx)(g,{iconOnly:n,children:Object(h.jsx)(r.b,{id:"Subscribe"})})]})})}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,o){"use strict";o.d(t,"a",(function(){return x}));var n,i=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=o("./node_modules/querystring-es3/index.js"),c=o("./node_modules/react/index.js"),a=o("./node_modules/react-router/dist/index.js"),d=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=o("./src/constants/locales.tsx"),b=o("./src/hooks/useActiveLocale.ts"),u=o("./src/hooks/useParsedQueryString.ts"),j=o("./src/theme/index.tsx"),p=o("./node_modules/react/jsx-runtime.js"),m=Object(d.default)(j.k.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(n||(n=Object(s.a)(["\n    display: none;\n  "])))));function x(){var e=Object(b.b)(),t=Object(c.useMemo)((()=>Object(b.a)()),[]),o=Object(a.k)(),n=Object(u.a)();if(t&&(t!==l.a||e!==l.a)){var s;s=e===t?l.a:t;var d=Object(i.a)(Object(i.a)({},o),{},{search:Object(r.stringify)(Object(i.a)(Object(i.a)({},n),{},{lng:s}))});return Object(p.jsxs)(m,{children:["KyberSwap available in: ",Object(p.jsx)(j.j,{to:d,children:Object(l.c)(s)})]})}return null}},"./src/data/TotalSupply.ts":function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=o("./src/hooks/useContract.ts"),s=o("./src/state/multicall/hooks.ts");function r(e){var t,o,r=Object(i.r)(null===e||void 0===e?void 0:e.address,!1),c=null===(t=Object(s.c)(r,"totalSupply"))||void 0===t||null===(o=t.result)||void 0===o?void 0:o[0];return e&&c?n.TokenAmount.fromRawAmount(e,c.toString()):void 0}},"./src/hooks/useProAmmPositions.ts":function(e,t,o){"use strict";o.d(t,"c",(function(){return m})),o.d(t,"b",(function(){return x})),o.d(t,"a",(function(){return h}));var n=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=o("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),s=o("./node_modules/@ethersproject/address/lib.esm/index.js"),r=o("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=o("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=o("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=o("./node_modules/react/index.js"),l=o("./src/hooks/index.ts"),b=o("./src/state/farms/elastic/hooks.ts"),u=o("./src/state/multicall/hooks.ts"),j=o("./src/hooks/useContract.ts");function p(e){var t=Object(j.m)(),o=Object(l.b)(),r=o.isEVM,a=o.networkInfo,b=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(u.d)(t,"positions",b),m=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),x=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),h=Object(d.useMemo)((()=>{if(!m&&!x&&e&&r)return p.map(((t,o)=>{var n=e[o],r=t.result;return{tokenId:n,poolId:Object(s.getCreate2Address)(a.elastic.coreFactory,Object(c.keccak256)(["bytes"],[i.b.encode(["address","address","uint24"],[r.info.token0,r.info.token1,r.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:r.pos.feeGrowthInsideLast,nonce:r.pos.nonce,liquidity:r.pos.liquidity,operator:r.pos.operator,tickLower:r.pos.tickLower,tickUpper:r.pos.tickUpper,rTokenOwed:r.pos.rTokenOwed,fee:r.info.fee,token0:r.info.token0,token1:r.info.token1}}))}),[m,x,p,e,a,r]);return Object(d.useMemo)((()=>({loading:m,positions:null===h||void 0===h?void 0:h.map(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{tokenId:b[t][0]})))})),[m,h,b])}function m(e){var t,o=p(e?[e]:void 0);return{loading:o.loading,position:null===(t=o.positions)||void 0===t?void 0:t[0]}}function x(e){var t,o=Object(j.m)(),n=Object(u.c)(o,"balanceOf",[null!==e&&void 0!==e?e:void 0]),i=n.loading,s=n.result,c=null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],o=0;o<c;o++)t.push([e,o]);return t}return[]}),[e,c]),l=Object(u.d)(o,"tokenOfOwnerByIndex",a),b=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),m=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>r.a.from(e[0]))):[]),[e,l])),x=m.positions,h=m.loading;return Object(d.useMemo)((()=>({loading:b||i||h,positions:x})),[b,i,h,x])}var h=()=>{var e=Object(l.b)(),t=e.isEVM,o=e.networkInfo,n=Object(b.b)(),i=n.farms,s=n.loading,c=n.userFarmInfo,u=Object(d.useMemo)((()=>(null===i||void 0===i?void 0:i.map((e=>e.pools)).flat())||[]),[i]),j=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===i||void 0===i||null===(e=i.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[i]),p=Object(d.useMemo)((()=>t?Object.values(c||{}).map((e=>e.depositedPositions.map((t=>{var n,i=Object(a.computePoolAddress)({factoryAddress:o.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:o.elastic.initCodeHash}),s=u.filter((e=>e.poolAddress.toLowerCase()===i.toLowerCase())),c=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(r.a.from(t.liquidity.toString()))?e:r.a.from(t.liquidity.toString())),r.a.from(0))||r.a.from(0);return{nonce:r.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:i,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:r.a.from(t.liquidity.toString()),feeGrowthInsideLast:r.a.from(0),stakedLiquidity:c,rTokenOwed:r.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[u,c,t,o]);return Object(d.useMemo)((()=>({farms:i,userFarmInfo:c,activeFarmAddress:j,farmPositions:p,loading:s})),[s,p,j,i,c])}},"./src/pages/Pool/index.tsx":function(e,t,o){"use strict";o.r(t),o.d(t,"Tab",(function(){return vt})),o.d(t,"PageWrapper",(function(){return yt})),o.d(t,"InstructionText",(function(){return kt})),o.d(t,"TitleRow",(function(){return wt})),o.d(t,"PositionCardGrid",(function(){return It})),o.d(t,"FilterRow",(function(){return Ct})),o.d(t,"PreloadCard",(function(){return Lt})),o.d(t,"default",(function(){return _t}));var n=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=o("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),s=o("./node_modules/@lingui/react/esm/index.js"),r=o("./node_modules/@lingui/core/esm/index.js"),c=o("./node_modules/@kyberswap/ks-sdk-classic/dist/index.js"),a=o("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),d=o("./node_modules/polished/dist/polished.esm.js"),l=o("./node_modules/react/index.js"),b=o.n(l),u=o("./node_modules/react-feather/dist/icons/info.js"),j=o("./node_modules/react-router-dom/dist/index.js"),p=o("./node_modules/react-router/dist/index.js"),m=o("./node_modules/react-use/esm/useMedia.js"),x=o("./node_modules/rebass/dist/index.esm.js"),h=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),O=o("./src/components/Button/index.tsx"),f=o("./src/components/Card/index.tsx"),g=o("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),v=o("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),y=o("./node_modules/querystring-es3/index.js"),k=o("./src/constants/index.ts"),w=o("./src/constants/v2.ts"),I=o("./src/hooks/index.ts"),C=o("./src/hooks/useMixpanel.ts"),S=o("./src/hooks/useParsedQueryString.ts"),L=o("./src/hooks/useTheme.ts"),_=o("./src/utils/string.ts"),T=o("./src/components/Icons/index.ts"),P=o("./src/components/Tooltip/index.tsx"),A=o("./node_modules/react/jsx-runtime.js"),E=["tab"];var M=function(){var e=Object(S.a)(),t=e.tab,o=void 0===t?w.b.ELASTIC:t,n=Object(v.a)(e,E),i=Object(_.d)(o,w.b)?o:w.b.ELASTIC,r=Object(C.c)().mixpanelHandler,c=Object(I.b)().chainId,a=w.a[c],d=Object(L.a)(),l=Object(p.k)(),b=Object(p.m)(),u=l.pathname.includes("/farms");return Object(A.jsxs)(x.b,{width:"max-content",children:[Object(A.jsx)(P.a,{text:a||"",children:Object(A.jsxs)(x.b,{alignItems:"center",onClick:()=>{if(!a){var e=Object(g.a)(Object(g.a)({},n),{},{tab:w.b.ELASTIC}),t="";l.pathname.startsWith(k.f.POOLS)?t=C.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED:l.pathname.startsWith(k.f.MY_POOLS)&&(t=C.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED),t&&r(t),b({search:Object(y.stringify)(e)},{replace:!0})}},children:[Object(A.jsx)(T.i,{size:20,color:i===w.b.ELASTIC?d.primary:d.subText}),Object(A.jsx)(x.e,{fontWeight:500,fontSize:[18,20,24],color:i===w.b.ELASTIC?a?d.disableText:d.primary:d.subText,width:"auto",marginLeft:"4px",role:"button",style:{cursor:a?"not-allowed":"pointer"},children:u?Object(A.jsx)(s.b,{id:"Elastic Farms"}):Object(A.jsx)(s.b,{id:"Elastic Pools"})})]})}),Object(A.jsx)(x.e,{fontWeight:500,fontSize:[18,20,24],color:d.subText,marginX:"12px",children:"|"}),Object(A.jsxs)(x.b,{alignItems:"center",onClick:()=>{var e=Object(g.a)(Object(g.a)({},n),{},{tab:w.b.CLASSIC});b({search:Object(y.stringify)(e)},{replace:!0})},children:[Object(A.jsx)(T.h,{size:20,color:i===w.b.ELASTIC?d.subText:d.primary}),Object(A.jsx)(x.e,{fontWeight:500,fontSize:[18,20,24],color:i===w.b.CLASSIC?d.primary:d.subText,width:"auto",marginLeft:"4px",style:{cursor:"pointer"},role:"button",children:u?Object(A.jsx)(s.b,{id:"Classic Farms"}):Object(A.jsx)(s.b,{id:"Classic Pools"})})]})]})},R=o("./src/components/Column/index.tsx"),z=o("./src/components/Icons/Wallet.tsx"),F=e=>{var t=e.width,o=e.height;return Object(A.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:o||16,viewBox:"0 0 16 16",children:Object(A.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})},q=o("./src/components/LocalLoader/index.tsx"),N=o("./src/components/PositionCard/index.tsx"),W=o("./src/components/Row/index.tsx"),D=o("./src/components/Search/index.tsx"),B=o("./src/components/SwitchLocaleLink/index.tsx"),U=o("./src/components/Tutorial/index.tsx"),Y=o("./src/data/Reserves.ts"),H=o("./src/hooks/Tokens.ts"),V=o("./src/hooks/useDebounce.ts"),G=o("./src/hooks/useSyncNetworkParamWithStore.ts"),Q=o("./node_modules/react-device-detect/main.js"),K=o("./src/components/SubscribeButton/index.tsx"),J=o("./src/components/Toggle/index.tsx"),X=o("./src/hooks/useProAmmPositions.ts"),Z=o("./src/state/farms/elastic/hooks.ts"),$=o("./src/theme/index.tsx"),ee=o("./src/components/Divider/index.tsx"),te=Object(h.keyframes)(["to{background-position-x:-200%;}"]),oe=h.default.div.withConfig({displayName:"ContentLoader__StyledPositionCard",componentId:"sc-1m7nxe9-0"})(["border:none;background:",";position:relative;overflow:hidden;border-radius:20px;padding:28px 20px 16px;display:flex;gap:1rem;flex-direction:column;"],(e=>e.theme.background)),ne=h.default.div.withConfig({displayName:"ContentLoader__Loading",componentId:"sc-1m7nxe9-1"})(["background:linear-gradient( 90deg,"," 8%,"," 18%,"," 33% );border-radius:20px;background-size:200% 100%;animation:1.5s "," linear infinite;"],(e=>e.theme.tableHeader),(e=>e.theme.tableHeader),(e=>e.theme.tableHeader),te),ie=Object(h.default)(ne).withConfig({displayName:"ContentLoader__Title",componentId:"sc-1m7nxe9-2"})(["height:41px;"]),se=Object(h.default)(ne).withConfig({displayName:"ContentLoader__Tab",componentId:"sc-1m7nxe9-3"})(["height:28px;border-radius:999px;"]);var re=function(){return Object(A.jsxs)(oe,{children:[Object(A.jsx)(ie,{}),Object(A.jsx)(se,{}),Object(A.jsx)(ne,{style:{height:"104px"}}),Object(A.jsx)(ne,{style:{height:"128px"}}),Object(A.jsxs)(x.b,{children:[Object(A.jsx)(ne,{style:{height:"36px",flex:1,borderRadius:"999px"}}),Object(A.jsx)(ne,{style:{height:"36px",flex:1,marginLeft:"1rem",borderRadius:"999px"}})]}),Object(A.jsx)(ee.a,{}),Object(A.jsx)(ne,{style:{height:"15px",width:"80px",borderRadius:"999px"}})]})},ce=o("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),ae=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),de=o("./node_modules/graphql-tag/lib/index.js"),le=o("./node_modules/@apollo/client/react/hooks/useQuery.js"),be=o("./node_modules/ethers/lib/utils.js"),ue=o("./src/constants/abis/v2/ProAmmTickReader.json"),je=o("./src/hooks/useContract.ts"),pe=o("./src/state/application/hooks.ts"),me=o("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),xe=o("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),he=o("./src/components/ProAmm/ProAmmFee.tsx"),Oe=o("./src/components/ProAmm/ProAmmPoolInfo.tsx"),fe=o("./src/components/ProAmm/ProAmmPooledTokens.tsx"),ge=o("./src/components/InfoHelper/index.tsx"),ve=o("./src/components/LiquidityChartRangeInput/index.tsx"),ye=o("./src/state/mint/proamm/type.ts"),ke=o("./src/utils/formatTickPrice.ts"),we=o("./src/utils/wrappedCurrency.ts"),Ie=o("./src/components/ProAmm/styles.tsx");function Ce(e){var t=e.position,o=e.ticksAtLimit,i=Object(L.a)(),c=Object(we.a)(t.pool.token0),a=Object(we.a)(t.pool.token1),d=Object(l.useState)(c),b=Object(n.a)(d,2),u=b[0],j=b[1],p=u.symbol===c.symbol,m=p?a:c,h=p?t.pool.priceOf(t.pool.token0):t.pool.priceOf(t.pool.token1),O=p?t.token0PriceLower:t.token0PriceUpper.invert(),g=p?t.token0PriceUpper:t.token0PriceLower.invert(),v=Object(l.useCallback)((()=>{j(m)}),[m]);return Object(A.jsx)(f.e,{marginTop:"1rem",padding:"1rem",children:Object(A.jsxs)(R.a,{gap:"12px",children:[Object(A.jsxs)(x.b,{children:[Object(A.jsx)(x.e,{fontSize:12,fontWeight:500,color:i.subText,children:Object(A.jsx)(s.b,{id:"Selected Price Range"})}),Object(A.jsx)(ge.a,{text:r.a._("Represents the range where all your liquidity is concentrated. When market price of your token pair is no longer between your selected price range, your liquidity becomes inactive and you stop earning fees"),placement:"right",size:12})]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)(x.b,{alignItems:"center",justifyContent:"center",sx:{gap:"8px"},children:[Object(A.jsx)(x.e,{fontSize:12,fontWeight:500,color:i.subText,children:Object(A.jsx)(s.b,{id:"Current Price"})}),Object(A.jsxs)(W.d,{children:[Object(A.jsx)(x.e,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:"".concat(h.toSignificant(6)," ").concat(m.symbol," per ").concat(u.symbol)}),Object(A.jsx)("span",{onClick:v,style:{marginLeft:"2px",cursor:"pointer"},children:Object(A.jsx)(Ie.a,{rotated:u!==c,size:14})})]})]}),Object(A.jsx)(ve.a,{style:{minHeight:"180px"},currencyA:u,currencyB:m,feeAmount:t.pool.fee,ticksAtLimit:o,price:h?parseFloat(h.toSignificant(8)):void 0,leftPrice:O,rightPrice:g,onLeftRangeInput:()=>{},onRightRangeInput:()=>{},interactive:!1})]}),Object(A.jsxs)(W.b,{style:{gap:"12px"},children:[Object(A.jsxs)(x.b,{children:[Object(A.jsx)(x.e,{fontSize:"12px",fontWeight:500,color:i.subText,children:Object(A.jsx)(s.b,{id:"Min Price"})}),Object(A.jsx)(ge.a,{text:r.a._("Your position will be 100% composed of {0} at this price",{0:null===u||void 0===u?void 0:u.symbol}),placement:"right",size:12})]}),Object(A.jsx)(x.e,{fontWeight:"500",fontSize:"12px",children:Object(A.jsx)(s.b,{id:"{0} {1} per {2}",values:{0:Object(ke.a)(O,o,ye.a.LOWER),1:m.symbol,2:u.symbol}})})]}),Object(A.jsxs)(W.b,{style:{gap:"12px"},children:[Object(A.jsxs)(x.b,{children:[Object(A.jsx)(x.e,{fontSize:"12px",fontWeight:500,color:i.subText,children:Object(A.jsx)(s.b,{id:"Max Price"})}),Object(A.jsx)(ge.a,{text:r.a._("Your position will be 100% composed of {0} at this price",{0:null===m||void 0===m?void 0:m.symbol}),placement:"right",size:12})]}),Object(A.jsx)(x.e,{fontSize:"12px",fontWeight:"500",children:Object(A.jsx)(s.b,{id:"{0} {1} per {2}",values:{0:Object(ke.a)(g,o,ye.a.UPPER),1:m.symbol,2:u.symbol}})})]})]})})}var Se,Le,_e=o("./src/hooks/usePools.ts"),Te=o("./src/state/prommPools/hooks.ts"),Pe=o("./src/state/tokenPrices/hooks.ts"),Ae=o("./src/utils/currencyId.ts"),Ee=o("./src/utils/numbers.ts"),Me=Object(h.default)(f.d).withConfig({displayName:"PositionListItem__StyledPositionCard",componentId:"sc-1h9tbli-0"})(["border:none;background:",";position:relative;overflow:hidden;border-radius:20px;padding:20px;display:flex;flex-direction:column;",""],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToMedium(Se||(Se=Object(i.a)(["\n    padding: 16px;\n  "]))))),Re=h.default.div.withConfig({displayName:"PositionListItem__TabContainer",componentId:"sc-1h9tbli-1"})(["display:flex;border-radius:999px;background-color:",";padding:2px;"],(e=>e.theme.tabBackground)),ze=Object(h.default)(O.d).withConfig({displayName:"PositionListItem__Tab",componentId:"sc-1h9tbli-2"})(["display:flex;justify-content:center;align-items:center;flex:1;background-color:",";padding:4px;font-size:12px;font-weight:500;border-radius:20px;transition:all 0.2s;&:hover{text-decoration:none;}"],(e=>{var t=e.theme;return e.isActive?t.tabActive:t.tabBackground})),Fe=h.default.div.withConfig({displayName:"PositionListItem__TabText",componentId:"sc-1h9tbli-3"})(["display:flex;align-items:center;gap:2px;color:",";"],(e=>{var t=e.theme;return e.isActive?t.text:t.subText})),qe=h.default.div.withConfig({displayName:"PositionListItem__StakedInfo",componentId:"sc-1h9tbli-4"})(["border-radius:4px;border:1px solid ",";padding:12px;margin-top:16px;"],(e=>e.theme.border)),Ne=h.default.div.withConfig({displayName:"PositionListItem__StakedRow",componentId:"sc-1h9tbli-5"})(["line-height:24px;display:flex;justify-content:space-between;font-size:12px;"]),We=h.default.div.withConfig({displayName:"PositionListItem__ButtonGroup",componentId:"sc-1h9tbli-6"})(["display:flex;gap:1rem;margin-bottom:20px;> *{flex:1 1 50%;}"]);function De(e){var t=e.stakedLayout,o=e.hasUserDepositedInFarm,i=e.positionDetails,c=e.refe,d=e.hasActiveFarm,b=e.rawFeeRewards,u=e.liquidityTime,p=e.createdAt,m=Object(I.b)(),h=m.chainId,f=m.networkInfo,g=i.token0,v=i.token1,w=i.fee,S=i.liquidity,_=i.tickLower,T=i.tickUpper,E=i.stakedLiquidity,M=Object(Z.b)().farms,R="",z="",F=[];null===M||void 0===M||M.forEach((e=>{e.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.poolAddress.toLowerCase()===i.poolId.toLowerCase()&&(R=e.id,z=t.pid,F=t.rewardTokens)}))}));var q=Object(je.o)(R),N=Object(Te.a)().blockLast24h,D=i.tokenId.toString(),B=Object(l.useState)(null),U=Object(n.a)(B,2),Y=U[0],V=U[1];Object(l.useEffect)((()=>{var e=function(){var e=Object(ae.a)(Object(ce.a)().mark((function e(){var t,o,i,s,r;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N||!q){e.next=9;break}return e.next=3,Promise.all([q.getUserInfo(D,z).then((e=>e.rewardPending)).catch((()=>[])),q.getUserInfo(D,z,{blockTag:Number(N)}).then((e=>e.rewardPending)).catch((()=>[]))]);case 3:t=e.sent,o=Object(n.a)(t,2),i=o[0],s=o[1],r=s.length&&(null===i||void 0===i?void 0:i.map(((e,t)=>e.sub(xe.a.from((null===s||void 0===s?void 0:s[t])||"0"))))),V(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,q,D,z]);var G=Object(H.j)(g),Q=Object(H.j)(v);c&&G&&!c.current[g.toLocaleLowerCase()]&&G.symbol&&(c.current[g.toLocaleLowerCase()]=G.symbol.toLowerCase()),c&&Q&&!c.current[v.toLocaleLowerCase()]&&Q.symbol&&(c.current[v.toLocaleLowerCase()]=Q.symbol.toLowerCase());var K=G?Object(we.a)(G):void 0,J=Q?Object(we.a)(Q):void 0,X=Object(Pe.a)([(null===K||void 0===K?void 0:K.wrapped.address)||"",(null===J||void 0===J?void 0:J.wrapped.address)||"",...F.map((e=>e.wrapped.address))]),te=Object(_e.b)(null!==K&&void 0!==K?K:void 0,null!==J&&void 0!==J?J:void 0,w),oe=Object(n.a)(te,2)[1],ne=Object(l.useMemo)((()=>{if(oe)return new me.Position({pool:oe,liquidity:S.toString(),tickLower:_,tickUpper:T})}),[S,oe,_,T]),ie=K&&a.CurrencyAmount.fromRawAmount(K,b[0]),se=J&&a.CurrencyAmount.fromRawAmount(J,b[1]),de=oe&&o?new me.Position({pool:oe,liquidity:i.stakedLiquidity.toString(),tickLower:_,tickUpper:T}):void 0,le=parseFloat((null===ne||void 0===ne?void 0:ne.amount0.toExact())||"0")*X[(null===G||void 0===G?void 0:G.wrapped.address)||""]+parseFloat((null===ne||void 0===ne?void 0:ne.amount1.toExact())||"0")*X[(null===Q||void 0===Q?void 0:Q.wrapped.address)||""],be=parseFloat((null===de||void 0===de?void 0:de.amount0.toExact())||"0")*X[(null===G||void 0===G?void 0:G.wrapped.address)||""]+parseFloat((null===de||void 0===de?void 0:de.amount1.toExact())||"0")*X[(null===Q||void 0===Q?void 0:Q.wrapped.address)||""],ue=Number((null===ie||void 0===ie?void 0:ie.toExact())||"0")*X[(null===G||void 0===G?void 0:G.wrapped.address)||""]+Number((null===se||void 0===se?void 0:se.toExact())||"0")*X[(null===Q||void 0===Q?void 0:Q.wrapped.address)||""],pe=u&&le?(100*(u&&365*ue*24*60*60/u||0)/le).toFixed(2):"--",ge=F.reduce(((e,t,o)=>{var n=null===Y||void 0===Y?void 0:Y[o];return e+ +a.CurrencyAmount.fromRawAmount(t,null!==n&&void 0!==n&&n.gt("0")?null===n||void 0===n?void 0:n.toString():"0").toExact()*X[t.wrapped.address]}),0),ve=null!==Y?365*ge*100/le:0,ke=function(e,t,o){return Object(l.useMemo)((()=>({[ye.a.LOWER]:e&&t?t===Object(me.nearestUsableTick)(me.TickMath.MIN_TICK,me.TICK_SPACINGS[e]):void 0,[ye.a.UPPER]:e&&o?o===Object(me.nearestUsableTick)(me.TickMath.MAX_TICK,me.TICK_SPACINGS[e]):void 0})),[e,t,o])}(w,_,T),Ie=function(e){if(!e)return{};var t=e.amount0.currency,o=e.amount1.currency;return{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:o,base:t}}(ne),Se=Ie.priceLower,De=Ie.priceUpper,Be=null===S||void 0===S?void 0:S.eq(0),Ue=Object(L.a)(),Ye=Object(C.c)().mixpanelHandler,He=Object(l.useState)(Le.MY_LIQUIDITY),Ve=Object(n.a)(He,2),Ge=Ve[0],Qe=Ve[1],Ke=Date.now()/1e3,Je=Be?r.a._("You have zero liquidity to remove"):E?r.a._("You need to withdraw your deposited liquidity position from the farms first"):"";return ne&&Se&&De?Object(A.jsx)(Me,{children:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Oe.a,{position:ne,tokenId:i.tokenId.toString(),isFarmActive:d}),Object(A.jsxs)(Re,{style:{marginTop:"1rem"},children:[Object(A.jsx)(ze,{isActive:Ge===Le.MY_LIQUIDITY,padding:"0",onClick:()=>Qe(Le.MY_LIQUIDITY),children:Object(A.jsx)(Fe,{isActive:Ge===Le.MY_LIQUIDITY,style:{fontSize:"12px"},children:Object(A.jsx)(s.b,{id:"My Liquidity"})})}),Object(A.jsx)(ze,{isActive:Ge===Le.PRICE_RANGE,padding:"0",onClick:()=>Qe(Le.PRICE_RANGE),children:Object(A.jsx)(Fe,{isActive:Ge===Le.PRICE_RANGE,style:{fontSize:"12px"},children:Object(A.jsx)(s.b,{id:"Price Range"})})})]}),Ge===Le.MY_LIQUIDITY&&Object(A.jsxs)(A.Fragment,{children:[t?Object(A.jsxs)(qe,{children:[Object(A.jsxs)(Ne,{children:[Object(A.jsx)(x.e,{color:Ue.subText,children:Object(A.jsx)(s.b,{id:"My Staked Balance"})}),Object(A.jsx)(x.e,{children:Object(Ee.a)(be)})]}),Object(A.jsxs)(Ne,{children:[Object(A.jsx)(x.e,{color:Ue.subText,children:Object(A.jsx)(s.b,{id:"My Staked {0}",values:{0:ne.amount0.currency.symbol}})}),Object(A.jsx)(x.e,{children:null===de||void 0===de?void 0:de.amount0.toSignificant(6)})]}),Object(A.jsxs)(Ne,{children:[Object(A.jsx)(x.e,{color:Ue.subText,children:Object(A.jsx)(s.b,{id:"My Staked {0}",values:{0:ne.amount1.currency.symbol}})}),Object(A.jsx)(x.e,{children:null===de||void 0===de?void 0:de.amount1.toSignificant(6)})]}),Object(A.jsxs)(Ne,{children:[Object(A.jsx)(x.e,{color:Ue.subText,children:Object(A.jsx)(s.b,{id:"My Farm APR"})}),Object(A.jsx)(x.e,{color:Ue.apr,children:ve?ve.toFixed(2)+"%":"--"})]})]}):Object(A.jsx)(fe.a,{positionAPR:pe,createdAt:p,farmAPR:ve,valueUSD:le,stakedUsd:be,liquidityValue0:a.CurrencyAmount.fromRawAmount(Object(we.a)(ne.pool.token0),ne.amount0.quotient),liquidityValue1:a.CurrencyAmount.fromRawAmount(Object(we.a)(ne.pool.token1),ne.amount1.quotient),layout:1}),!t&&Object(A.jsx)(he.a,{totalFeeRewardUSD:ue,feeValue0:ie,feeValue1:se,position:ne,tokenId:i.tokenId,layout:1,hasUserDepositedInFarm:o})]}),Ge===Le.PRICE_RANGE&&Object(A.jsx)(Ce,{position:ne,ticksAtLimit:ke}),Object(A.jsx)("div",{style:{marginTop:"20px"}}),Object(A.jsxs)(x.b,{flexDirection:"column",marginTop:"auto",children:[t?Object(A.jsx)(O.j,{style:{marginBottom:"20px",textDecoration:"none",color:Ue.textReverse,fontSize:"14px"},padding:"8px",as:$.j,to:"".concat(k.f.FARMS,"/").concat(f.route,"?").concat(Object(y.stringify)({tab:"elastic",type:i.endTime?i.endTime>Ke?"active":"ended":"active",search:i.poolId})),children:Object(A.jsx)(s.b,{id:"Go to Farm"})}):Object(A.jsxs)(We,{children:[Je?Object(A.jsx)(P.a,{text:Je,placement:"top",children:Object(A.jsx)(x.b,{sx:{cursor:"not-allowed",width:"100%"},children:Object(A.jsx)(O.i,{style:{padding:"8px",width:"100%",pointerEvents:"none"},disabled:!0,children:Object(A.jsx)(x.e,{width:"max-content",fontSize:"14px",children:Object(A.jsx)(s.b,{id:"Remove Liquidity"})})})})}):Object(A.jsx)(O.i,{padding:"8px",as:j.b,to:"/elastic/remove/".concat(i.tokenId),onClick:()=>{Ye(C.a.ELASTIC_REMOVE_LIQUIDITY_INITIATED,{token_1:(null===G||void 0===G?void 0:G.symbol)||"",token_2:(null===Q||void 0===Q?void 0:Q.symbol)||"",fee_tier:(null===oe||void 0===oe?void 0:oe.fee)/1e4})},children:Object(A.jsx)(x.e,{width:"max-content",fontSize:"14px",children:Object(A.jsx)(s.b,{id:"Remove Liquidity"})})}),Be?Object(A.jsx)(O.j,{disabled:!0,padding:"8px",children:Object(A.jsx)(x.e,{width:"max-content",fontSize:"14px",children:Object(A.jsx)(s.b,{id:"Increase Liquidity"})})}):Object(A.jsx)(O.j,{id:"increase-liquidity-button",padding:"8px",style:{borderRadius:"18px",fontSize:"14px"},as:j.b,to:"/elastic/increase/".concat(Object(Ae.a)(K,h),"/").concat(Object(Ae.a)(J,h),"/").concat(w,"/").concat(i.tokenId),onClick:()=>{Ye(C.a.ELASTIC_INCREASE_LIQUIDITY_INITIATED,{token_1:(null===G||void 0===G?void 0:G.symbol)||"",token_2:(null===Q||void 0===Q?void 0:Q.symbol)||"",fee_tier:(null===oe||void 0===oe?void 0:oe.fee)/1e4})},children:Object(A.jsx)(x.e,{width:"max-content",fontSize:"14px",children:Object(A.jsx)(s.b,{id:"Increase Liquidity"})})})]}),Object(A.jsx)(ee.a,{sx:{marginBottom:"20px"}}),Object(A.jsx)(W.b,{children:o&&Object(A.jsx)(O.d,{width:"max-content",style:{fontSize:"14px"},padding:"0",children:Object(A.jsx)($.j,{style:{width:"100%",textAlign:"center"},to:"".concat(k.f.FARMS,"/").concat(f.route),children:Object(A.jsx)(s.b,{id:"Go to Farms \u2197"})})})})]})]})}):Object(A.jsx)(re,{})}!function(e){e.MY_LIQUIDITY="my-liquidity",e.PRICE_RANGE="price-range"}(Le||(Le={}));var Be,Ue,Ye,He=b.a.memo(De),Ve=h.default.div.withConfig({displayName:"PositionGrid__PositionCardGrid",componentId:"sc-16r7iof-0"})(["display:grid;grid-template-columns:minmax(392px,auto) minmax(392px,auto) minmax(392px,auto);gap:24px;max-width:1224px;"," ",";"],(e=>e.theme.mediaWidth.upToLarge(Be||(Be=Object(i.a)(["\n    grid-template-columns: 1fr 1fr;\n    max-width: 832px;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(Ue||(Ue=Object(i.a)(["\n    grid-template-columns: 1fr;\n    max-width: 392px;\n  "]))))),Ge=new be.Interface(ue.abi),Qe=Object(de.a)(Ye||(Ye=Object(i.a)(["\n  query positions($ids: [String]!) {\n    positions(where: { id_in: $ids }) {\n      id\n      createdAtTimestamp\n      lastCollectedFeeAt\n    }\n  }\n"])));var Ke,Je,Xe=function(e){var t=e.positions,o=e.style,i=e.refe,s=e.activeFarmAddress,r=Object(I.b)(),c=r.isEVM,a=r.networkInfo,d=r.chainId,b=Object(je.i)(),u=Object(pe.g)(d).elasticClient,j=Object(l.useState)((()=>t.reduce(((e,t)=>Object(g.a)(Object(g.a)({},e),{},{[t.tokenId.toString()]:["0","0"]})),{}))),p=Object(n.a)(j,2),m=p[0],x=p[1],h=Object(l.useMemo)((()=>t.map((e=>e.tokenId.toString()))),[t]),O=Object(le.b)(Qe,{client:u,variables:{ids:h},fetchPolicy:"cache-first",skip:!c||!h.length}).data,f=Object(l.useMemo)((()=>null===O||void 0===O?void 0:O.positions.reduce(((e,t)=>Object(g.a)(Object(g.a)({},e),{},{[t.id]:Date.now()/1e3-Number(t.lastCollectedFeeAt)})),{})),[null===O||void 0===O?void 0:O.positions]),v=null===O||void 0===O?void 0:O.positions.reduce(((e,t)=>Object(g.a)(Object(g.a)({},e),{},{[t.id]:Number(t.createdAtTimestamp)})),{}),y=Object(l.useCallback)(Object(ae.a)(Object(ce.a)().mark((function e(){var o,n,i,s;return Object(ce.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return o=Ge.getFunction("getTotalFeesOwedToPosition"),n=t.map((e=>({target:a.elastic.tickReader,callData:Ge.encodeFunctionData(o,[a.elastic.nonfungiblePositionManager,e.poolId,e.tokenId])}))),e.next=6,null===b||void 0===b?void 0:b.callStatic.tryBlockAndAggregate(!1,n);case 6:i=e.sent,s=i.returnData,x(s.reduce(((e,n,i)=>{if(n.success){var s=Ge.decodeFunctionResult(o,n.returnData);return Object(g.a)(Object(g.a)({},e),{},{[t[i].tokenId.toString()]:[s.token0Owed.toString(),s.token1Owed.toString()]})}return Object(g.a)(Object(g.a)({},e),{},{[t[i].tokenId.toString()]:["0","0"]})}),{}));case 9:case"end":return e.stop()}}),e)}))),[b,t,a]);return Object(l.useEffect)((()=>{y()}),[y]),Object(A.jsx)(Ve,{style:o,children:t.map((e=>Object(A.jsx)(He,{refe:i,positionDetails:e,rawFeeRewards:m[e.tokenId.toString()]||["0","0"],liquidityTime:null===f||void 0===f?void 0:f[e.tokenId.toString()],createdAt:null===v||void 0===v?void 0:v[e.tokenId.toString()],hasUserDepositedInFarm:!!e.stakedLiquidity,hasActiveFarm:s.includes(e.poolId.toLowerCase())},e.tokenId.toString())))})},Ze=h.default.span.withConfig({displayName:"ProAmmPool__Highlight",componentId:"sc-1x21ql8-0"})(["color:",";"],(e=>e.theme.text)),$e=h.default.div.withConfig({displayName:"ProAmmPool__TabRow",componentId:"sc-1x21ql8-1"})(["display:flex;justify-content:space-between;align-items:center;gap:12px;",""],(e=>e.theme.mediaWidth.upToLarge(Ke||(Ke=Object(i.a)(["\n    gap: 1rem;\n    width: 100%;\n    flex-direction: column;\n  "]))))),et=h.default.div.withConfig({displayName:"ProAmmPool__TabWrapper",componentId:"sc-1x21ql8-2"})(["display:flex;align-items:center;gap:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(Je||(Je=Object(i.a)(["\n    gap: 8px;\n  "]))))),tt=e=>Object(A.jsx)(K.a,{iconOnly:e,subscribeTooltip:Object(A.jsx)("div",{children:Object(A.jsx)(s.b,{id:"Subscribe to receive emails on your Elastic liquidity positions across all chains. Whenever a position goes<0>out-of-range</0> or comes back <1>in-range</1>, you will receive an email",components:{0:Object(A.jsx)(Ze,{}),1:Object(A.jsx)(Ze,{})}})}),trackingEvent:C.a.MYPOOLS_CLICK_SUBSCRIBE_BTN});function ot(){var e=Object(I.b)(),t=e.account,o=e.chainId,i=e.isEVM,c=e.networkInfo,a=Object(l.useRef)({}),b=Object(X.b)(t),j=b.positions,h=b.loading,O=Object(X.a)(),g=O.farmPositions,v=O.loading,y=O.activeFarmAddress,C=O.farms,_=O.userFarmInfo,T=Object(l.useMemo)((()=>{var e;return null!==(e=null===j||void 0===j?void 0:j.reduce(((e,t)=>{var o;return e[null!==(o=t.liquidity)&&void 0!==o&&o.eq(0)?1:0].push(t),e}),[[],[]]))&&void 0!==e?e:[[],[]]}),[j]),P=Object(n.a)(T,2),E=P[0],M=P[1],F=Object(L.a)(),q=Object(S.a)(),N=q.search,W=void 0===N?"":N,B=q.tab,Y=void 0===B?w.b.ELASTIC:B,H=q.nftId,G=Object(p.m)(),K=Object(p.k)(),ee=Object(V.a)(W.trim().toLowerCase(),300),te=Object(l.useState)(!1),oe=Object(n.a)(te,2),ne=oe[0],ie=oe[1],se=Object(l.useMemo)((()=>g.filter((e=>0===ee.trim().length||!!a.current[e.token0.toLowerCase()]&&a.current[e.token0.toLowerCase()].includes(ee)||!!a.current[e.token1.toLowerCase()]&&a.current[e.token1.toLowerCase()].includes(ee)||e.poolId.toLowerCase()===ee||e.tokenId.toString()===ee))),[ee,g]),ce=Object(l.useMemo)((()=>(ne?[...E,...se,...M]:[...E,...se]).filter((e=>H?e.tokenId.toString()===H:0===ee.trim().length||!!a.current[e.token0.toLowerCase()]&&a.current[e.token0.toLowerCase()].includes(ee)||!!a.current[e.token1.toLowerCase()]&&a.current[e.token1.toLowerCase()].includes(ee)||e.poolId.toLowerCase()===ee||e.tokenId.toString()===ee)).filter(((e,t,o)=>o.findIndex((t=>t.tokenId.eq(e.tokenId)))===t)).sort(((e,t)=>+e.tokenId.toString()-+t.tokenId.toString()))),[ne,E,M,ee,se,H]),ae=Object(l.useState)(!1),de=Object(n.a)(ae,2),le=de[0],be=de[1],ue=Object(m.a)("(max-width: 768px)");return i?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(yt,{style:{padding:0,marginTop:"24px"},children:Object(A.jsxs)(R.a,{gap:"lg",style:{width:"100%"},children:[Object(A.jsxs)(kt,{children:[Object(A.jsx)(s.b,{id:"Here you can view all your liquidity and staked balances in the Elastic Pools"}),!ue&&Object(A.jsx)($.d,{href:"".concat(k.P[o],"/account/").concat(t),children:Object(A.jsxs)(x.b,{alignItems:"center",children:[Object(A.jsx)(z.a,{size:16}),Object(A.jsxs)(x.e,{fontSize:"14px",marginLeft:"4px",children:[Object(A.jsx)(s.b,{id:"Analyze Wallet"})," \u2197"]})]})})]}),Object(A.jsxs)($e,{children:[Object(A.jsxs)(x.b,{justifyContent:"space-between",flex:1,alignItems:"center",width:"100%",children:[Object(A.jsxs)(et,{children:[Object(A.jsx)(vt,{active:!le,role:"button",onClick:()=>{be(!1)},children:Object(A.jsx)(s.b,{id:"My Positions"})}),Object(A.jsx)(vt,{active:le,onClick:()=>{be(!0)},role:"button",children:Q.isMobile?Object(A.jsx)(s.b,{id:"Farming Positions"}):Object(A.jsx)(s.b,{id:"My Farming Positions"})})]}),ue&&Object(A.jsxs)(x.b,{sx:{gap:"8px"},children:[Object(A.jsx)($.d,{href:"".concat(k.P[o],"/account/").concat(t),children:Object(A.jsx)(x.b,{sx:{borderRadius:"50%"},width:"36px",backgroundColor:Object(d.d)(F.subText,.2),height:"36px",alignItems:"center",justifyContent:"center",children:Object(A.jsx)(z.a,{size:16,color:F.subText})})}),Object(A.jsx)(U.b,{type:U.a.ELASTIC_MY_POOLS}),tt(!0)]})]}),Object(A.jsxs)(Ct,{children:[Object(A.jsxs)(x.b,{alignItems:"center",style:{gap:"8px"},children:[Object(A.jsx)(x.e,{fontSize:"14px",color:F.subText,children:Object(A.jsx)(s.b,{id:"Show closed positions"})}),Object(A.jsx)(J.a,{isActive:ne,toggle:()=>ie((e=>!e))})]}),Object(A.jsx)(D.c,{minWidth:"254px",searchValue:W,onSearch:e=>{G(K.pathname+"?search="+e+"&tab="+Y,{replace:!0})},placeholder:r.a._("Search by token or pool address")}),!ue&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(U.b,{type:U.a.ELASTIC_MY_POOLS}),tt(!1)]})]})]}),t?h&&!j||v&&!C&&!_?Object(A.jsxs)(It,{children:[Object(A.jsx)(re,{}),Object(A.jsx)(re,{}),Object(A.jsx)(re,{})]}):ce.length>0||se.length>0?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(Xe,{style:{display:le?"none":"grid"},positions:ce,refe:a,activeFarmAddress:y}),Object(A.jsx)(Xe,{style:{display:le?"grid":"none"},positions:se,refe:a,activeFarmAddress:y})]}):Object(A.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(A.jsx)(u.a,{size:48,color:F.subText}),Object(A.jsx)(x.e,{fontSize:16,lineHeight:1.5,color:F.subText,textAlign:"center",marginTop:"1rem",children:Object(A.jsx)(s.b,{id:"No liquidity found. Check out our <0>Pools.</0>",components:{0:Object(A.jsx)($.j,{to:"".concat(k.f.POOLS,"/").concat(c.route,"?tab=elastic")})}})})]}):Object(A.jsx)(f.h,{padding:"40px",children:Object(A.jsx)($.k.body,{color:F.text3,textAlign:"center",children:Object(A.jsx)(s.b,{id:"Connect to a wallet to view your liquidity."})})})]})}),Object(A.jsx)(Z.a,{})]}):Object(A.jsx)(p.a,{to:"/"})}var nt=o("./src/state/farms/classic/hooks.ts"),it=o("./node_modules/react-redux/es/index.js"),st=o("./src/constants/tokens.ts"),rt=o("./src/state/farms/classic/actions.ts"),ct=o("./src/state/farms/classic/types.ts"),at=o("./src/state/hooks.ts"),dt=o("./src/state/pools/hooks.ts");function lt(e){var t=e.isInterval,o=void 0===t||t,i=Object(at.a)(),s=Object(I.b)(),r=s.chainId,c=s.account,a=s.isEVM,d=s.networkInfo,b=Object(je.h)(!1),u=Object(pe.f)(),j=Object(l.useRef)(u.currentPrice);j.current=u.currentPrice;var p=Object(H.e)(),m=Object(pe.g)(),x=m.classicClient,h=m.blockClient,O=m.isEnableBlockService,f=Object(it.e)((e=>e.farms.data)),v=Object(l.useRef)(f);v.current=f;var y=Object(l.useRef)(r);return y.current=r,Object(l.useEffect)((()=>{if(a){console.count("running farm updater");var e=!1;u();var t=o&&setInterval((()=>{u()}),3e4);return()=>{e=!0,t&&clearInterval(t)}}function s(e){return l.apply(this,arguments)}function l(){return l=Object(ae.a)(Object(ce.a)().mark((function t(o){var i,s,l,b,u,m,f,v,y,w,I,C,S,L,_,T,P,A;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,null===o||void 0===o?void 0:o.getRewardTokens();case 4:if(i=t.sent,!e){t.next=7;break}throw new Error("canceled");case 7:return t.next=9,null===o||void 0===o?void 0:o.poolLength();case 9:if(s=t.sent,!e){t.next=12;break}throw new Error("canceled");case 12:return l=[...Array(xe.a.from(s).toNumber()).keys()],b=d.classic.fairlaunchV2.includes(o.address),t.next=16,Promise.all(l.map(function(){var t=Object(ae.a)(Object(ce.a)().mark((function t(n){var i;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===o||void 0===o?void 0:o.getPoolInfo(n);case 2:if(i=t.sent,!e){t.next=5;break}throw new Error("canceled");case 5:if(!b){t.next=7;break}return t.abrupt("return",Object(g.a)(Object(g.a)({},i),{},{accRewardPerShares:i.accRewardPerShares.map(((e,t)=>e.div(i.rewardMultipliers[t]))),rewardPerSeconds:i.rewardPerSeconds.map(((e,t)=>e.div(i.rewardMultipliers[t]))),pid:n,fairLaunchVersion:ct.a.V2}));case 7:return t.abrupt("return",Object(g.a)(Object(g.a)({},i),{},{pid:n,fairLaunchVersion:ct.a.V1}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 16:return u=t.sent,t.next=19,Promise.all(l.map(function(){var t=Object(ae.a)(Object(ce.a)().mark((function t(n){var i;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=6;break}return t.next=3,null===o||void 0===o?void 0:o.getUserInfo(n,c);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={amount:0};case 7:if(i=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",i.amount);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:if(m=t.sent,!e){t.next=22;break}throw new Error("canceled");case 22:return t.next=24,Promise.all(l.map(function(){var t=Object(ae.a)(Object(ce.a)().mark((function t(n){var i;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=6;break}return t.next=3,null===o||void 0===o?void 0:o.pendingRewards(n,c);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:if(i=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 24:if(f=t.sent,!e){t.next=27;break}throw new Error("canceled");case 27:return v=u.map((e=>e.stakeToken.toLowerCase())),t.next=30,Object(dt.a)(O,v,x,h,r,j.current);case 30:if(y=t.sent,!e){t.next=33;break}throw new Error("canceled");case 33:if(w=i.map((e=>e.toLowerCase()===k.ab.toLowerCase()?st.i[r]:p[e])).filter(Boolean),I=u.map(((e,t)=>Object(g.a)(Object(g.a)(Object(g.a)({},y.find((t=>t&&t.id.toLowerCase()===e.stakeToken.toLowerCase()))),e),{},{rewardTokens:w,fairLaunchAddress:o.address,userData:{stakedBalance:m[t],rewards:e.fairLaunchVersion===ct.a.V2?f[t]&&f[t].map(((t,o)=>t.div(e.rewardMultipliers[o]))):f[t]}}))),!(C=k.N[o.address])){t.next=46;break}return t.next=39,fetch(C.subgraphAPI,{method:"POST",body:JSON.stringify({query:C.query})}).then((e=>e.json()));case 39:if(S=t.sent,!e){t.next=42;break}throw new Error("canceled");case 42:L=S.data.pair.totalSupply,_=L.split("."),T=Object(n.a)(_,2),P=T[0],A=T[1],L=P+"."+A.slice(0,18),I.push(Object(g.a)(Object(g.a)(Object(g.a)({},S.data.pair),{},{amp:1e4,vReserve0:S.data.pair.reserve0,vReserve1:S.data.pair.reserve1,token0:Object(g.a)(Object(g.a)({},S.data.pair.token0),{},{derivedETH:S.data.pair.token0.derivedBNB}),token1:Object(g.a)(Object(g.a)({},S.data.pair.token1),{},{derivedETH:S.data.pair.token1.derivedBNB}),trackedReserveETH:S.data.pair.trackedReserveBNB,totalSupply:L},u[0]),{},{rewardTokens:w,fairLaunchAddress:o.address,userData:{stakedBalance:m[0],rewards:f[0]}}));case 46:return t.abrupt("return",I.filter((e=>!!e.totalSupply)));case 47:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(){return m.apply(this,arguments)}function m(){return(m=Object(ae.a)(Object(ce.a)().mark((function t(){var o,n,c,a;return Object(ce.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,b){t.next=4;break}return i(Object(rt.b)({})),t.abrupt("return");case 4:return i(Object(rt.c)(!0)),o={},n=Object.keys(b),c=n.map((e=>s(b[e]))),t.next=10,Promise.all(c);case 10:if(a=t.sent,!e){t.next=13;break}throw new Error("canceled");case 13:n.forEach(((e,t)=>{o[e]=a[t]})),y.current!==r||0!==Object.keys(v.current).length&&e||i(Object(rt.b)(o)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e||(console.error(t.t0),i(Object(rt.f)(t.t0)));case 20:i(Object(rt.c)(!1));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}}),[i,r,b,c,a,d,x,h,p,o,O]),null}var bt,ut,jt,pt,mt,xt,ht,Ot,ft=o("./src/state/user/hooks.tsx"),gt=o("./src/state/wallet/hooks.ts"),vt=h.default.div.withConfig({displayName:"Pool__Tab",componentId:"sc-1utmumt-0"})(["padding:4px 0;color:",";font-weight:500;cursor:pointer;:hover{color:",";}",";"],(e=>{var t=e.active,o=e.theme;return t?o.primary:o.subText}),(e=>e.theme.primary),(e=>e.theme.mediaWidth.upToSmall(bt||(bt=Object(i.a)(["\n    font-size: 14px;\n  "]))))),yt=Object(h.default)(R.a).withConfig({displayName:"Pool__PageWrapper",componentId:"sc-1utmumt-1"})(["padding:32px 0 100px;width:100%;max-width:1224px;"," ",";"],(e=>e.theme.mediaWidth.upToLarge(ut||(ut=Object(i.a)(["\n    padding: 24px 12px 100px;\n    max-width: 832px;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(jt||(jt=Object(i.a)(["\n    max-width: 392px;\n  "]))))),kt=h.default.div.withConfig({displayName:"Pool__InstructionText",componentId:"sc-1utmumt-2"})(["width:100%;padding:16px 0;font-size:12px;line-height:1.5;border-top:1px solid ",";color:",";border-bottom:1px solid ",";display:flex;justify-content:space-between;align-items:center;"],(e=>e.theme.border),(e=>e.theme.subText),(e=>e.theme.border)),wt=h.default.div.withConfig({displayName:"Pool__TitleRow",componentId:"sc-1utmumt-3"})(["display:flex;justify-content:space-between;align-items:center;gap:12px;",";"],(e=>e.theme.mediaWidth.upToSmall(pt||(pt=Object(i.a)(["\n    gap: 1rem;\n    width: 100%;\n    flex-direction: column;\n  "]))))),It=h.default.div.withConfig({displayName:"Pool__PositionCardGrid",componentId:"sc-1utmumt-4"})(["display:grid;grid-template-columns:minmax(392px,auto) minmax(392px,auto) minmax(392px,auto);gap:24px;max-width:1224px;"," ",";"],(e=>e.theme.mediaWidth.upToLarge(mt||(mt=Object(i.a)(["\n    grid-template-columns: 1fr 1fr;\n    max-width: 832px;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(xt||(xt=Object(i.a)(["\n    grid-template-columns: 1fr;\n    max-width: 392px;\n  "]))))),Ct=Object(h.default)(x.b).withConfig({displayName:"Pool__FilterRow",componentId:"sc-1utmumt-5"})(["align-items:center;justify-content:space-between;gap:12px;"," ",""],(e=>e.theme.mediaWidth.upToLarge(ht||(ht=Object(i.a)(["\n      width: 100%;\n      justify-content: flex-end;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(Ot||(Ot=Object(i.a)(["\n    align-items: flex-start;\n    flex-direction: column-reverse;\n    gap: 0;\n\n    > div {\n      margin-top: 12px;\n      width: 100%\n      justify-content: space-between\n      &:nth-child(1){\n        margin-top: 20px\n      }\n    }\n  "]))))),St=Object(h.keyframes)(["100%{transform:translateX(100%);}"]),Lt=h.default.div.withConfig({displayName:"Pool__PreloadCard",componentId:"sc-1utmumt-6"})(["width:",";height:",";background:",";border-radius:8px;position:relative;display:inline-block;overflow:hidden;&::after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translateX(-100%);background-image:linear-gradient(90deg,rgba(#fff,0) 0,rgba(#fff,0.2) 20%,rgba(#fff,0.5) 60%,rgba(#fff,0));animation:"," 2s infinite;content:'';}"],(e=>{var t=e.width;return null!==t&&void 0!==t?t:"100%"}),(e=>{var t=e.height;return null!==t&&void 0!==t?t:"436px"}),(e=>e.theme.background),St);function _t(){var e=Object(S.a)().tab,t=void 0===e?w.b.ELASTIC:e;return Object(G.a)(),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(yt,{children:[Object(A.jsx)(R.a,{children:Object(A.jsx)(M,{})}),t===w.b.ELASTIC?Object(A.jsx)(ot,{}):Object(A.jsx)(Tt,{})]}),Object(A.jsx)(B.a,{})]})}function Tt(){var e=Object(L.a)(),t=Object(I.b)(),o=t.account,i=t.chainId,a=t.isEVM,b=t.networkInfo,h=Object(m.a)("(max-width:768px)"),g=Object(ft.h)(),v=Object(dt.c)(),y=v.loading,w=v.data,S=Object(nt.a)(),_=S.data,T=S.loading,P=Object(j.d)(),E=Object(n.a)(P,2),M=E[0],H=E[1],G=M.get("search")||"",Q=Object(V.a)(G.trim().toLowerCase(),300),K=Object(l.useMemo)((()=>Object.values(_).flat().filter((e=>{var t;return c.JSBI.greaterThan(c.JSBI.BigInt((null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)||0),c.JSBI.BigInt(0))&&!k.N[e.fairLaunchAddress]}))),[_]),J=Object(ft.p)(g),X=Object(l.useMemo)((()=>J.map((e=>e.liquidityTokens))),[J]),Z=Object(l.useMemo)((()=>X.flat()),[X]),ee=Object(gt.g)(Z),te=Object(n.a)(ee,2),oe=te[0],ne=te[1],ie=Object(l.useMemo)((()=>X.reduce(((e,t,o)=>(t.filter((e=>{var t;return null===(t=oe[e.address])||void 0===t?void 0:t.greaterThan("0")})).forEach((t=>{e.push({liquidityToken:t,tokens:J[o].tokens})})),e)),[])),[J,X,oe]),se=Object(Y.e)(ie.map((e=>{var t=e.liquidityToken,o=e.tokens;return{address:t.address,currencies:o}}))),re=ne||(null===se||void 0===se?void 0:se.length)<ie.length||(null===se||void 0===se?void 0:se.some((e=>!e[1]))),ce=Object(l.useMemo)((()=>se.map((e=>Object(n.a)(e,2)[1])).filter((e=>Boolean(e)))),[se]),ae=Object(l.useMemo)((()=>ce.filter((e=>{var t,o;return!Q||((null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(Q))||(null===(o=e.token1.symbol)||void 0===o?void 0:o.toLowerCase().includes(Q))||e.address.toLowerCase()===Q)})).filter((e=>!K.map((e=>e.id.toLowerCase())).includes(e.address.toLowerCase())))),[ce,Q,K]),de={};null===w||void 0===w||w.liquidityPositions.forEach((e=>{de[e.pool.id]=e}));var le=Object(l.useState)(!1),be=Object(n.a)(le,2),ue=be[0],je=be[1],pe=re||y||T,me=Object(C.c)().mixpanelHandler,xe=Object(m.a)("(max-width: 768px)");return a?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(lt,{isInterval:!1}),Object(A.jsx)(yt,{style:{padding:0,marginTop:"24px"},children:Object(A.jsx)(R.a,{gap:"lg",justify:"center",children:Object(A.jsxs)(R.a,{gap:"lg",style:{width:"100%"},children:[Object(A.jsx)(W.a,{children:Object(A.jsxs)(kt,{children:[Object(A.jsx)(s.b,{id:"Here you can view all your liquidity and staked balances in the Classic Pools"}),!xe&&Object(A.jsx)($.d,{href:"".concat(k.w[i],"/account/").concat(o),children:Object(A.jsxs)(x.b,{alignItems:"center",children:[Object(A.jsx)(z.a,{size:16}),Object(A.jsxs)(x.e,{fontSize:"14px",marginLeft:"4px",children:[Object(A.jsx)(s.b,{id:"Analyze Wallet"})," \u2197"]})]})})]})}),Object(A.jsxs)(wt,{children:[Object(A.jsxs)(x.b,{justifyContent:"space-between",flex:1,alignItems:"center",width:"100%",children:[Object(A.jsxs)(x.b,{sx:{gap:"1.5rem"},alignItems:"center",children:[Object(A.jsx)(vt,{active:!ue,onClick:()=>{ue&&me(C.a.MYPOOLS_POOLS_VIEWED),je(!1)},role:"button",children:Object(A.jsx)(s.b,{id:"My Pools"})}),Object(A.jsx)(vt,{active:ue,onClick:()=>{ue||me(C.a.MYPOOLS_STAKED_VIEWED),je(!0)},role:"button",children:Object(A.jsx)(s.b,{id:"My Staked Pools"})})]}),xe&&Object(A.jsxs)(x.b,{sx:{gap:"12px"},children:[Object(A.jsx)($.d,{href:"".concat(k.w[i],"/account/").concat(o),children:Object(A.jsx)(x.b,{sx:{borderRadius:"50%"},width:"36px",backgroundColor:Object(d.d)(e.subText,.2),height:"36px",alignItems:"center",justifyContent:"center",children:Object(A.jsx)(z.a,{size:16,color:e.subText})})}),Object(A.jsx)(U.b,{type:U.a.CLASSIC_MY_POOLS})]})]}),Object(A.jsxs)(x.b,{alignItems:"center",flexDirection:"row",justifyContent:"flex-end",sx:{gap:"12px"},width:h?"100%":void 0,children:[Object(A.jsx)(D.c,{style:{width:"unset",flex:h?1:void 0},minWidth:h?"224px":"254px",searchValue:G,onSearch:e=>{M.set("search",e),H(M)},placeholder:r.a._("Search by token name or pool address")}),Object(A.jsxs)(O.j,{as:$.j,to:k.f.FIND_POOL,style:{color:e.textReverse,padding:"10px 12px",fontSize:"14px",width:"max-content",height:"36px",textDecoration:"none"},children:[Object(A.jsx)(F,{}),Object(A.jsx)(x.e,{marginLeft:"4px",children:Object(A.jsx)(s.b,{id:"Import Pool"})})]}),!xe&&Object(A.jsx)(U.b,{type:U.a.CLASSIC_MY_POOLS})]})]}),o?ue?pe&&!K.length?Object(A.jsx)(q.a,{}):K.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(It,{children:K.filter((e=>e.token0.symbol.toLowerCase().includes(Q)||e.token1.symbol.toLowerCase().includes(Q)||e.id.toLowerCase()===Q)).map((e=>Object(A.jsx)(Pt,{farm:e,userLiquidityPositions:null===w||void 0===w?void 0:w.liquidityPositions,tab:"STAKED"},e.id)))}),Object(A.jsxs)(x.e,{fontSize:16,color:e.subText,textAlign:"center",marginTop:"1rem",children:[r.a._("Don't see a pool you joined?")," ",Object(A.jsx)($.j,{id:"import-pool-link",to:k.f.FIND_POOL,children:Object(A.jsx)(s.b,{id:"Import it."})})]})]}):Object(A.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(A.jsx)(u.a,{size:48,color:e.subText}),Object(A.jsx)(x.e,{fontSize:16,lineHeight:1.5,color:e.subText,textAlign:"center",marginTop:"1rem",children:Object(A.jsx)(s.b,{id:"No staked liquidity found. Check out our <0>Farms.</0>",components:{0:Object(A.jsx)($.j,{to:"".concat(k.f.FARMS,"/").concat(b.route)})}})})]}):!pe||ae.length||K.length?(null===ae||void 0===ae?void 0:ae.length)>0||K.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(It,{children:[ae.map((e=>{var t=Object.values(_).flat().find((t=>t.id.toLowerCase()===e.address.toLowerCase()));return Object(A.jsx)(N.c,{pair:e,myLiquidity:de[e.address.toLowerCase()],farm:t,tab:"ALL"},e.liquidityToken.address)})),K.filter((e=>e.token0.symbol.toLowerCase().includes(Q)||e.token1.symbol.toLowerCase().includes(Q)||e.id.toLowerCase()===Q)).map((e=>Object(A.jsx)(Pt,{farm:e,userLiquidityPositions:null===w||void 0===w?void 0:w.liquidityPositions,tab:"ALL"},e.id)))]}),Object(A.jsxs)(x.e,{fontSize:16,color:e.subText,textAlign:"center",marginTop:"1rem",children:[r.a._("Don't see a pool you joined?")," ",Object(A.jsx)($.j,{id:"import-pool-link",to:k.f.FIND_POOL,children:Object(A.jsx)(s.b,{id:"Import it."})})]})]}):Object(A.jsxs)(x.b,{flexDirection:"column",alignItems:"center",marginTop:"60px",children:[Object(A.jsx)(u.a,{size:48,color:e.subText}),Object(A.jsxs)(x.e,{fontSize:16,lineHeight:1.5,color:e.subText,textAlign:"center",marginTop:"1rem",children:[Object(A.jsx)(s.b,{id:"No liquidity found. Check out our <0>Pools.</0>",components:{0:Object(A.jsx)($.j,{to:"".concat(k.f.POOLS,"/").concat(b.route,"?tab=classic")})}}),Object(A.jsx)("br",{}),r.a._("Don't see a pool you joined?")," ",Object(A.jsx)($.j,{id:"import-pool-link",to:k.f.FIND_POOL,children:Object(A.jsx)(s.b,{id:"Import it."})})]})]}):Object(A.jsxs)(It,{children:[Object(A.jsx)(Lt,{}),Object(A.jsx)(Lt,{}),Object(A.jsx)(Lt,{})]}):Object(A.jsx)(f.h,{padding:"40px",children:Object(A.jsx)($.k.body,{color:e.text3,textAlign:"center",children:Object(A.jsx)(s.b,{id:"Connect to a wallet to view your liquidity."})})})]})})}),Object(A.jsx)(B.a,{})]}):Object(A.jsx)(p.a,{to:"/",replace:!0})}var Pt=e=>{var t,o,n,i=e.farm,s=e.userLiquidityPositions,r=e.tab,c=Object(H.j)(null===(t=i.token0)||void 0===t?void 0:t.id)||void 0,d=Object(H.j)(null===(o=i.token1)||void 0===o?void 0:o.id)||void 0,l=Object(nt.d)(i).farmAPR,b=Object(Y.c)(null===c||void 0===c?void 0:c.wrapped,null===d||void 0===d?void 0:d.wrapped,i.id)[1];return b?Object(A.jsx)(N.c,{pair:b,stakedBalance:a.TokenAmount.fromRawAmount(b.liquidityToken,(null===(n=i.userData)||void 0===n?void 0:n.stakedBalance)||"0"),myLiquidity:null===s||void 0===s?void 0:s.find((e=>e.pool.id===b.address)),farm:i,farmAPR:l,tab:r}):Object(A.jsx)(Lt,{})}}}]);
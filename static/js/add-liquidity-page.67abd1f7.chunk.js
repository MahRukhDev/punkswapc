(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[8],{"./src/components/Dots.tsx":function(e,t,i){"use strict";var n=i("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=n},"./src/components/LiquidityProviderMode/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/@lingui/react/esm/index.js"),o=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=i("./src/components/InfoHelper/index.tsx"),a=i("./node_modules/rebass/dist/index.esm.js"),r=(o.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-w652p9-0"})(["display:grid;grid-gap:1.5rem;grid-template-columns:2fr 1.5fr 1fr 1fr 1fr 1fr 1fr;padding:12px 16px;font-size:14px;align-items:center;height:fit-content;position:relative;border-bottom:1px solid ",";background:",";:last-child{border-bottom:none;border-bottom-right-radius:20px;border-bottom-left-radius:20px;}"],(e=>e.theme.border),(e=>e.theme.background)),Object(o.default)(a.b).withConfig({displayName:"styled__DataText",componentId:"sc-w652p9-1"})(["color:",";flex-direction:column;"],(e=>e.theme.text7)),Object(o.default)(a.b).withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-w652p9-2"})(["justify-content:flex-end;gap:4px;align-items:center;"]),o.default.div.withConfig({displayName:"styled__AMPLiquidityAndTVLContainer",componentId:"sc-w652p9-3"})(["display:flex;flex-direction:column;align-items:flex-end;gap:8px;"]),o.default.div.withConfig({displayName:"styled__TextTVL",componentId:"sc-w652p9-4"})(["font-size:12px;color:",";"],(e=>e.theme.subText)),o.default.div.withConfig({displayName:"styled__TokenRatioContainer",componentId:"sc-w652p9-5"})(["background:",";position:relative;overflow:hidden;border-radius:999px;padding:4px;overflow:hidden;margin-top:1rem;"],(e=>e.theme.background)),o.default.div.withConfig({displayName:"styled__TokenRatioGrid",componentId:"sc-w652p9-6"})(["padding:4px;display:grid;grid-template-columns:auto 1fr 1fr auto;grid-template-rows:1fr;gap:8px;isolation:isolate;"]),o.default.div.withConfig({displayName:"styled__ProgressWrapper",componentId:"sc-w652p9-7"})(["position:absolute;top:2px;left:2px;bottom:2px;width:calc(100% - 4px);border-top-left-radius:999px;border-bottom-left-radius:999px;overflow:hidden;"]),o.default.div.withConfig({displayName:"styled__Progress",componentId:"sc-w652p9-8"})(["height:44px;width:",";background:",";"],(e=>e.value+"%"),(e=>e.theme.buttonBlack)),o.default.div.withConfig({displayName:"styled__TokenRatioName",componentId:"sc-w652p9-9"})(["font-size:14px;font-weight:500;"]),o.default.div.withConfig({displayName:"styled__TokenRatioPercent",componentId:"sc-w652p9-10"})(["font-size:12px;font-weight:500;color:",";"],(e=>e.theme.subText)),o.default.div.withConfig({displayName:"styled__TabContainer",componentId:"sc-w652p9-11"})(["width:100%;background:",";border-radius:20px;display:flex;padding:2px;cursor:pointer;"],(e=>e.theme.tabBackground))),c=o.default.div.withConfig({displayName:"styled__TabItem",componentId:"sc-w652p9-12"})(["font-size:12px;font-weight:500;color:",";background:",";display:flex;justify-content:center;align-items:center;padding:6px;border-radius:20px;flex-grow:1;flex-basis:0;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.text:t.subText}),(e=>{var t=e.theme;return e.active?t.tabActive:"transparent"})),d=i("./src/hooks/useTheme.ts"),l=i("./node_modules/react/jsx-runtime.js"),b=Object(o.default)(c).withConfig({displayName:"LiquidityProviderMode__Tab",componentId:"sc-ojkkge-0"})(["padding:8px;"]);t.a=e=>{var t=e.activeTab,i=e.setActiveTab,o=e.singleTokenInfo,a=Object(d.a)();return Object(l.jsxs)(r,{style:{padding:"4px"},children:[Object(l.jsx)(b,{active:0===t,onClick:()=>i(0),role:"button",children:Object(l.jsx)(n.b,{id:"Token Pair"})}),Object(l.jsxs)(b,{active:1===t,onClick:()=>i(1),role:"button",children:[Object(l.jsx)(n.b,{id:"Single Token"}),Object(l.jsx)(s.a,{text:o,size:12,isActive:1===t,color:1===t?a.text:a.subText})]})]})}},"./src/components/ZapError/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/polished/dist/polished.esm.js"),o=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),s=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=i("./src/hooks/useTheme.ts"),r=i("./node_modules/react/jsx-runtime.js"),c=s.default.div.withConfig({displayName:"ZapError__ZapErrorWrapper",componentId:"sc-si8u1w-0"})(["display:flex;align-items:center;gap:8px;background:",";padding:1rem;border-radius:999px;margin-bottom:28px;color:",";font-size:12px;font-weight:400;"],(e=>{var t=e.theme,i=e.warning;return Object(n.d)(i?t.warning:t.red,.35)}),(e=>e.theme.text));t.a=e=>{var t=e.message,i=e.warning,n=Object(a.a)();return Object(r.jsxs)(c,{warning:i,children:[Object(r.jsx)(o.a,{color:i?n.warning:n.red,style:{strokeWidth:1.5},size:16}),t]})}},"./src/hooks/useProAmmPositions.ts":function(e,t,i){"use strict";i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return x})),i.d(t,"a",(function(){return O}));var n=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=i("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),s=i("./node_modules/@ethersproject/address/lib.esm/index.js"),a=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),r=i("./node_modules/@ethersproject/solidity/lib.esm/index.js"),c=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=i("./node_modules/react/index.js"),l=i("./src/hooks/index.ts"),b=i("./src/state/farms/elastic/hooks.ts"),j=i("./src/state/multicall/hooks.ts"),u=i("./src/hooks/useContract.ts");function p(e){var t=Object(u.m)(),i=Object(l.b)(),a=i.isEVM,c=i.networkInfo,b=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(j.d)(t,"positions",b),m=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),x=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),O=Object(d.useMemo)((()=>{if(!m&&!x&&e&&a)return p.map(((t,i)=>{var n=e[i],a=t.result;return{tokenId:n,poolId:Object(s.getCreate2Address)(c.elastic.coreFactory,Object(r.keccak256)(["bytes"],[o.b.encode(["address","address","uint24"],[a.info.token0,a.info.token1,a.info.fee])]),c.elastic.initCodeHash),feeGrowthInsideLast:a.pos.feeGrowthInsideLast,nonce:a.pos.nonce,liquidity:a.pos.liquidity,operator:a.pos.operator,tickLower:a.pos.tickLower,tickUpper:a.pos.tickUpper,rTokenOwed:a.pos.rTokenOwed,fee:a.info.fee,token0:a.info.token0,token1:a.info.token1}}))}),[m,x,p,e,c,a]);return Object(d.useMemo)((()=>({loading:m,positions:null===O||void 0===O?void 0:O.map(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{tokenId:b[t][0]})))})),[m,O,b])}function m(e){var t,i=p(e?[e]:void 0);return{loading:i.loading,position:null===(t=i.positions)||void 0===t?void 0:t[0]}}function x(e){var t,i=Object(u.m)(),n=Object(j.c)(i,"balanceOf",[null!==e&&void 0!==e?e:void 0]),o=n.loading,s=n.result,r=null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.toNumber(),c=Object(d.useMemo)((()=>{if(r&&e){for(var t=[],i=0;i<r;i++)t.push([e,i]);return t}return[]}),[e,r]),l=Object(j.d)(i,"tokenOfOwnerByIndex",c),b=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),m=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>a.a.from(e[0]))):[]),[e,l])),x=m.positions,O=m.loading;return Object(d.useMemo)((()=>({loading:b||o||O,positions:x})),[b,o,O,x])}var O=()=>{var e=Object(l.b)(),t=e.isEVM,i=e.networkInfo,n=Object(b.b)(),o=n.farms,s=n.loading,r=n.userFarmInfo,j=Object(d.useMemo)((()=>(null===o||void 0===o?void 0:o.map((e=>e.pools)).flat())||[]),[o]),u=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===o||void 0===o||null===(e=o.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[o]),p=Object(d.useMemo)((()=>t?Object.values(r||{}).map((e=>e.depositedPositions.map((t=>{var n,o=Object(c.computePoolAddress)({factoryAddress:i.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:i.elastic.initCodeHash}),s=j.filter((e=>e.poolAddress.toLowerCase()===o.toLowerCase())),r=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(a.a.from(t.liquidity.toString()))?e:a.a.from(t.liquidity.toString())),a.a.from(0))||a.a.from(0);return{nonce:a.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:o,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:a.a.from(t.liquidity.toString()),feeGrowthInsideLast:a.a.from(0),stakedLiquidity:r,rTokenOwed:a.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[j,r,t,i]);return Object(d.useMemo)((()=>({farms:o,userFarmInfo:r,activeFarmAddress:u,farmPositions:p,loading:s})),[s,p,u,o,r])}},"./src/pages/AddLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return je}));var n=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=i("./node_modules/@lingui/react/esm/index.js"),s=i("./node_modules/@lingui/core/esm/index.js"),a=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),r=i("./node_modules/jsbi/dist/jsbi-umd.js"),c=i.n(r),d=i("./node_modules/react/index.js"),l=i("./node_modules/react-router/dist/index.js"),b=i("./src/components/LiquidityProviderMode/index.tsx"),j=i("./src/components/NavigationTabs/index.tsx"),u=i("./src/components/PositionCard/index.tsx"),p=i("./src/components/Tutorial/index.tsx"),m=i("./src/data/Reserves.ts"),x=i("./src/hooks/index.ts"),O=i("./src/hooks/Tokens.ts"),v=i("./src/hooks/useMixpanel.ts"),h=i("./src/state/mint/hooks.ts"),g=i("./src/utils/dmm.ts"),f=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),y=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),C=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),k=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_=i("./node_modules/@sentry/core/esm/exports.js"),w=i("./node_modules/ethers/lib/utils.js"),R=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),I=i("./node_modules/rebass/dist/index.esm.js"),S=i("./src/components/Button/index.tsx"),A=i("./src/components/Column/index.tsx"),E=i("./src/components/ConfirmAddModalBottom/index.tsx"),N=i("./src/components/CurrencyInputPanel/index.tsx"),T=i("./src/components/CurrentPrice/index.tsx"),P=i("./src/components/Loader/index.tsx"),U=i("./src/components/PoolPriceBar/index.tsx"),B=i("./src/components/QuestionHelper/index.tsx"),Y=i("./src/components/Row/index.tsx"),q=i("./src/components/TransactionConfirmationModal/index.tsx"),L=i("./src/constants/index.ts"),D=i("./src/constants/tokens.ts"),F=i("./src/hooks/useApproveCallback.ts"),M=i("./src/hooks/useTheme.ts"),z=i("./src/hooks/useTokensMarketPrice.ts"),W=i("./src/hooks/useTransactionDeadline.ts"),H=i("./src/pages/Pool/styleds.tsx"),V=i("./src/state/application/hooks.ts"),G=i("./src/state/mint/actions.ts"),Q=i("./src/state/transactions/hooks.tsx"),Z=i("./src/state/transactions/type.ts"),J=i("./src/state/user/hooks.tsx"),K=i("./src/theme/index.tsx"),X=i("./src/utils/index.ts"),$=i("./src/utils/getContract.ts"),ee=i("./src/utils/isZero.ts"),te=i("./src/utils/maxAmountSpend.ts"),ie=i("./src/pages/AddLiquidity/styled.tsx"),ne=i("./node_modules/react/jsx-runtime.js"),oe=e=>{var t,i,r,b,j,u,p=e.currencyIdA,v=e.currencyIdB,oe=e.pairAddress,se=Object(x.b)(),ae=se.account,re=se.chainId,ce=se.isEVM,de=se.networkInfo,le=Object(x.e)().library,be=Object(M.a)(),je=Object(O.f)(p),ue=Object(O.f)(v),pe=!!(re&&je&&je.isNative),me=!!(re&&je&&je.equals(a.WETH[re])),xe=!!(re&&ue&&ue.isNative),Oe=!!(re&&ue&&ue.equals(a.WETH[re])),ve=Object(V.w)(),he=Object(J.c)(),ge=Object(n.a)(he,1)[0],fe=Object(h.d)(),ye=fe.independentField,Ce=fe.typedValue,ke=fe.otherTypedValue,_e=Object(h.a)(null!==je&&void 0!==je?je:void 0,null!==ue&&void 0!==ue?ue:void 0,oe),we=_e.dependentField,Re=_e.currencies,Ie=_e.pair,Se=_e.pairState,Ae=_e.currencyBalances,Ee=_e.parsedAmounts,Ne=_e.price,Te=_e.noLiquidity,Pe=_e.liquidityMinted,Ue=_e.poolTokenPercentage,Be=_e.error,Ye=_e.unAmplifiedPairAddress,qe=_e.isStaticFeePair,Le=_e.isOldStaticFeeContract,De=Object(g.f)(Re[G.a.CURRENCY_A]),Fe=Object(g.f)(Re[G.a.CURRENCY_B]),Me=(null===Ie||void 0===Ie?void 0:Ie.amp)||c.a.BigInt(0),ze=Me.toString()?new a.Fraction(c.a.BigInt(Object(w.parseUnits)(Me.toString()||"1",20)),c.a.BigInt(Object(w.parseUnits)("1",16))):void 0,We=!!ze&&ze.equalTo(c.a.BigInt(1e4))&&!!Ye&&!Object(ee.a)(Ye),He=Object(h.c)(Te),Ve=He.onFieldAInput,Ge=He.onFieldBInput,Qe=!Be,Ze=Object(d.useState)(!1),Je=Object(n.a)(Ze,2),Ke=Je[0],Xe=Je[1],$e=Object(d.useState)(!1),et=Object(n.a)($e,2),tt=et[0],it=et[1],nt=Object(W.a)(),ot=Object(J.y)(),st=Object(n.a)(ot,1)[0],at=Object(d.useState)(""),rt=Object(n.a)(at,2),ct=rt[0],dt=rt[1],lt=Object(d.useState)(""),bt=Object(n.a)(lt,2),jt=bt[0],ut=bt[1],pt={[ye]:Ce,[we]:Te?ke:null!==(t=null===(i=Ee[we])||void 0===i?void 0:i.toSignificant(6))&&void 0!==t?t:""},mt=[G.a.CURRENCY_A,G.a.CURRENCY_B].reduce(((e,t)=>Object(C.a)(Object(C.a)({},e),{},{[t]:Object(te.b)(Ae[t])})),{}),xt=ce?qe?Le?null===(r=de.classic.oldStatic)||void 0===r?void 0:r.router:de.classic.static.router:null===(b=de.classic.dynamic)||void 0===b?void 0:b.router:void 0,Ot=Object(F.b)(Ee[G.a.CURRENCY_A],xt||void 0),vt=Object(n.a)(Ot,2),ht=vt[0],gt=vt[1],ft=Object(F.b)(Ee[G.a.CURRENCY_B],xt||void 0),yt=Object(n.a)(ft,2),Ct=yt[0],kt=yt[1],_t=Object(Q.g)(),wt=Object(J.i)();function Rt(){return It.apply(this,arguments)}function It(){return(It=Object(y.a)(Object(f.a)().mark((function e(){var t,i,n,o,r,d,l,b,j,u,p,m,x,O,v,h,g,y,w,R,I,S,A;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&ae){e.next=2;break}return e.abrupt("return");case 2:if(t=qe?Le?Object($.e)(re,le,ae):Object($.f)(re,le,ae):Object($.d)(re,le,ae),i=Ee[G.a.CURRENCY_A],n=Ee[G.a.CURRENCY_B],i&&n&&je&&ue&&nt){e.next=6;break}return e.abrupt("return");case 6:if(o={[G.a.CURRENCY_A]:Object(X.c)(i,Te?0:st)[0],[G.a.CURRENCY_B]:Object(X.c)(n,Te?0:st)[0]},Ie){e.next=9;break}return e.abrupt("return");case 9:return je.isNative||ue.isNative?(p=ue.isNative,m=Ie.virtualReserveOf(p?null===je||void 0===je?void 0:je.wrapped:null===ue||void 0===ue?void 0:ue.wrapped),x=Ie.virtualReserveOf(p?null===ue||void 0===ue?void 0:ue.wrapped:null===je||void 0===je?void 0:je.wrapped),O=c.a.divide(c.a.multiply(x.quotient,c.a.exponentiate(c.a.BigInt(2),c.a.BigInt(112))),m.quotient),v=c.a.divide(c.a.multiply(O,c.a.BigInt(st)),c.a.BigInt(1e4)),h=[c.a.subtract(O,v).toString(),c.a.add(O,v).toString()],r=t.estimateGas.addLiquidityETH,d=t.addLiquidityETH,l=[null!==(j=null===(u=p?null===je||void 0===je?void 0:je.wrapped:null===ue||void 0===ue?void 0:ue.wrapped)||void 0===u?void 0:u.address)&&void 0!==j?j:"",Ie.address,(p?i:n).quotient.toString(),o[p?G.a.CURRENCY_A:G.a.CURRENCY_B].toString(),o[p?G.a.CURRENCY_B:G.a.CURRENCY_A].toString(),h,ae,nt.toHexString()],b=k.a.from((p?n:i).quotient.toString())):(w=Ie.virtualReserveOf(null===je||void 0===je?void 0:je.wrapped),R=Ie.virtualReserveOf(null===ue||void 0===ue?void 0:ue.wrapped),I=c.a.divide(c.a.multiply(R.quotient,c.a.exponentiate(c.a.BigInt(2),c.a.BigInt(112))),w.quotient),S=c.a.divide(c.a.multiply(I,c.a.BigInt(st)),c.a.BigInt(1e4)),A=[c.a.subtract(I,S).toString(),c.a.add(I,S).toString()],r=t.estimateGas.addLiquidity,d=t.addLiquidity,l=[null!==(g=null===je||void 0===je?void 0:je.wrapped.address)&&void 0!==g?g:"",null!==(y=null===ue||void 0===ue?void 0:ue.wrapped.address)&&void 0!==y?y:"",Ie.address,i.quotient.toString(),n.quotient.toString(),o[G.a.CURRENCY_A].toString(),o[G.a.CURRENCY_B].toString(),A,ae,nt.toHexString()],b=null),it(!0),e.next=13,r(...l,b?{value:b}:{}).then((e=>d(...l,Object(C.a)(Object(C.a)({},b?{value:b}:{}),{},{gasLimit:Object(X.b)(e)})).then((e=>{var t=Re[G.a.CURRENCY_A],i=Re[G.a.CURRENCY_B];if(t&&i){var n,o,s,r,d,l,b=null!==(n=null===(o=Ee[G.a.CURRENCY_A])||void 0===o?void 0:o.toSignificant(6))&&void 0!==n?n:"",j=null!==(s=null===(r=Ee[G.a.CURRENCY_B])||void 0===r?void 0:r.toSignificant(6))&&void 0!==s?s:"";it(!1),_t({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenSymbolIn:null!==(d=t.symbol)&&void 0!==d?d:"",tokenSymbolOut:null!==(l=i.symbol)&&void 0!==l?l:"",tokenAmountIn:b,tokenAmountOut:j,tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,contract:oe,arbitrary:{poolAddress:oe,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"token pair",amp:new a.Fraction(Me).divide(c.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),dt(e.hash);var u=t.wrapped,p=i.wrapped;u&&p&&wt(u,p)}})))).catch((e=>{it(!1);var t=new Error("Classic: Add liquidity Error",{cause:e});t.name="AddLiquidityError",Object(_.a)(t,{extra:{args:l}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT")?ut(s.a._("Insufficient liquidity available. Please reload page and try again!")):ut(null===e||void 0===e?void 0:e.message)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St="Supplying ".concat(null===(j=Ee[G.a.CURRENCY_A])||void 0===j?void 0:j.toSignificant(6)," ").concat(null===De||void 0===De?void 0:De.symbol," and ").concat(null===(u=Ee[G.a.CURRENCY_B])||void 0===u?void 0:u.toSignificant(6)," ").concat(null===Fe||void 0===Fe?void 0:Fe.symbol),At=Object(d.useCallback)((()=>{Xe(!1),ct&&Ve(""),dt(""),ut("")}),[Ve,ct]),Et=Ie?Ie.reserve0.asFraction.divide(Ie.virtualReserve0).multiply("100").divide(Ie.reserve0.divide(Ie.virtualReserve0).asFraction.add(Ie.reserve1.divide(Ie.virtualReserve1).asFraction)):new a.Fraction(c.a.BigInt(50)),Nt=new a.Fraction(c.a.BigInt(100),c.a.BigInt(1)).subtract(Et),Tt=Et.toSignificant(4),Pt=Nt.toSignificant(4),Ut=Object(d.useMemo)((()=>[Re[G.a.CURRENCY_A],Re[G.a.CURRENCY_B]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[Re]),Bt=Object(V.t)(Ut),Yt=Object(z.a)(Ut),qt=Ee[G.a.CURRENCY_A]&&Bt[0]?parseFloat(Ee[G.a.CURRENCY_A].toSignificant(6))*Bt[0]:0,Lt=Ee[G.a.CURRENCY_B]&&Bt[1]?parseFloat(Ee[G.a.CURRENCY_B].toSignificant(6))*Bt[1]:0,Dt=Number(null===Ne||void 0===Ne?void 0:Ne.toSignificant(6)),Ft=Yt[1]&&Yt[0]/Yt[1],Mt=!!(Dt&&Ft&&Math.abs(Dt-Ft)/Ft>.05),zt=Object(l.m)(),Wt=()=>Object(ne.jsxs)(A.a,{gap:"5px",children:[Object(ne.jsx)(Y.e,{style:{marginTop:"20px"},children:Object(ne.jsx)(I.e,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Pe||void 0===Pe?void 0:Pe.toSignificant(6)})}),Object(ne.jsx)(Y.f,{children:Object(ne.jsx)(I.e,{fontSize:"24px",children:"DMM "+(null===De||void 0===De?void 0:De.symbol)+"/"+(null===Fe||void 0===Fe?void 0:Fe.symbol)+" LP Tokens"})}),Object(ne.jsx)(K.k.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:st/100})})]}),Ht=()=>Object(ne.jsx)(E.a,{pair:Ie,price:Ne,currencies:Re,parsedAmounts:Ee,noLiquidity:!1,onAdd:Rt,poolTokenPercentage:Ue,amplification:ze,estimatedUsd:[qt,Lt]});return Object(ne.jsxs)(H.b,{children:[Object(ne.jsx)(q.e,{isOpen:Ke,onDismiss:At,attemptingTxn:tt,hash:ct,content:()=>jt?Object(ne.jsx)(q.c,{onDismiss:At,message:jt}):We?Object(ne.jsx)(q.a,{title:s.a._("Unamplified Pool existed"),onDismiss:At,topContent:()=>null,bottomContent:()=>Object(ne.jsxs)(ne.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ne.jsx)(K.j,{onClick:At,id:"unamplified-pool-link",to:"/add/".concat(p,"/").concat(v,"/").concat(Ye),children:"Go to unamplified pool"})]})}):Object(ne.jsx)(q.a,{title:s.a._("You will receive"),onDismiss:At,topContent:Wt,bottomContent:Ht}),pendingText:St}),Object(ne.jsx)(A.a,{gap:"20px",children:Object(ne.jsxs)(ie.g,{children:[Object(ne.jsxs)(ie.f,{children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.a,{value:pt[G.a.CURRENCY_A],onUserInput:Ve,onMax:()=>{var e,t;Ve(null!==(e=null===(t=mt[G.a.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;Ve(null!==(e=null===(t=Ae[G.a.CURRENCY_A])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:Re[G.a.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(X.i)(qt.toString(),!0)||void 0,disableCurrencySelect:!me&&!pe,isSwitchMode:me||pe,onSwitchCurrency:()=>{re&&zt("/add/".concat(pe?a.WETH[re].address:D.i[re].symbol,"/").concat(v,"/").concat(oe),{replace:!0})}}),Object(ne.jsx)(I.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:Object(ne.jsx)(ie.p,{children:Bt[0]?"1 ".concat(null===De||void 0===De?void 0:De.symbol," = ").concat(Object(X.i)(Bt[0].toString(),!0)):Object(ne.jsx)(P.a,{})})})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.a,{value:pt[G.a.CURRENCY_B],onUserInput:Ge,onMax:()=>{var e,t;Ge(null!==(e=null===(t=mt[G.a.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;Ge(null!==(e=null===(t=Ae[G.a.CURRENCY_B])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:Re[G.a.CURRENCY_B],disableCurrencySelect:!0,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(X.i)(Lt.toString(),!0)||void 0}),Object(ne.jsxs)(I.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ne.jsx)(ie.p,{children:Bt[1]?"1 ".concat(null===Fe||void 0===Fe?void 0:Fe.symbol," = ").concat(Object(X.i)(Bt[1].toString(),!0)):Object(ne.jsx)(P.a,{})}),oe&&re&&(Oe||xe)&&Object(ne.jsx)(K.j,{replace:!0,to:"/add/".concat(p,"/").concat(xe?a.WETH[re].address:D.i[re].symbol,"/").concat(oe),children:xe?Object(ne.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ne.jsx)(o.b,{id:"Use Native Token"})})]})]}),Re[ye]&&Re[we]&&Se!==m.a.INVALID&&Object(ne.jsx)(ie.m,{padding:"0",marginTop:"8px",style:{marginTop:"8px"},children:Object(ne.jsx)(U.a,{currencies:Re,poolTokenPercentage:Ue,noLiquidity:Te,price:Ne,pair:Ie})})]}),Object(ne.jsxs)(ie.l,{children:[Re[ye]&&Re[we]&&Se!==m.a.INVALID&&Object(ne.jsx)(ie.m,{borderRadius:"20px",marginBottom:"24px",children:Object(ne.jsxs)(U.d,{title:s.a._("Pool Information"),children:[Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[!Te&&Object(ne.jsxs)(ie.c,{children:[Object(ne.jsx)(K.k.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.m,{children:Object(ne.jsx)(o.b,{id:"Current Price"})})}),Object(ne.jsx)(K.k.black,{fontWeight:400,fontSize:14,color:be.text,children:Object(ne.jsx)(T.a,{price:Ne})})]}),Object(ne.jsxs)(ie.k,{children:[Object(ne.jsx)(K.k.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.m,{children:Object(ne.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ne.jsxs)(K.k.black,{fontWeight:400,fontSize:14,color:be.text,children:[Tt,"% ",null===Ie||void 0===Ie?void 0:Ie.token0.symbol," - ",Pt,"% ",null===Ie||void 0===Ie?void 0:Ie.token1.symbol]})]})]}),Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[Object(ne.jsxs)(A.a,{style:{flex:"1"},children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(I.e,{fontWeight:500,fontSize:12,color:be.subText,children:"AMP"}),Object(ne.jsx)(B.a,{text:L.e})]}),Object(ne.jsx)(I.e,{fontWeight:400,fontSize:14,color:be.text,children:Ie?Object(ne.jsx)(ne.Fragment,{children:new a.Fraction(c.a.BigInt(Ie.amp)).divide(c.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!oe||+Me>=1)&&Object(ne.jsxs)(ie.e,{children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(I.e,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ne.jsx)(K.m,{children:qe||!Ie?Object(ne.jsx)(o.b,{id:"Fee"}):Object(ne.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ne.jsx)(B.a,{text:qe||!Ie?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ne.jsx)(I.e,{fontWeight:400,fontSize:14,color:be.text,children:Ie?qe&&null!==Ie&&void 0!==Ie&&Ie.fee?100*+new a.Fraction(c.a.BigInt(Ie.fee)).divide(c.a.exponentiate(c.a.BigInt(10),c.a.BigInt(18))).toSignificant(6)+"%":Object(g.b)(null!==Ie&&void 0!==Ie&&Ie.amp?+new a.Fraction(c.a.BigInt(Ie.amp)).divide(c.a.BigInt(1e4)).toSignificant(5):+Me):""})]})]}),Re[ye]&&Re[we]&&(!!oe||+Me>=1)&&Object(ne.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ne.jsxs)(Y.a,{marginBottom:"8px",children:[Object(ne.jsx)(K.m,{children:Object(ne.jsx)(ie.a,{children:"Active Price Range"})}),Object(ne.jsx)(B.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ne.jsx)(U.b,{currencies:Re,price:Ne,pair:Ie,amplification:ze})]})]})}),Mt&&Object(ne.jsxs)(ie.q,{children:[Object(ne.jsx)(R.a,{color:be.yellow2}),Object(ne.jsx)(I.e,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ne.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),ae?Object(ne.jsxs)(A.a,{gap:"md",children:[(ht===F.a.NOT_APPROVED||ht===F.a.PENDING||Ct===F.a.NOT_APPROVED||Ct===F.a.PENDING)&&Qe&&Object(ne.jsxs)(Y.b,{children:[ht!==F.a.APPROVED&&Object(ne.jsx)(S.j,{onClick:gt,disabled:ht===F.a.PENDING,width:Ct!==F.a.APPROVED?"48%":"100%",children:ht===F.a.PENDING?Object(ne.jsxs)(H.a,{children:["Approving ",null===De||void 0===De?void 0:De.symbol]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(o.b,{id:"Approve"})," ",null===De||void 0===De?void 0:De.symbol]})}),Ct!==F.a.APPROVED&&Object(ne.jsx)(S.j,{onClick:kt,disabled:Ct===F.a.PENDING,width:ht!==F.a.APPROVED?"48%":"100%",children:Ct===F.a.PENDING?Object(ne.jsxs)(H.a,{children:[Object(ne.jsx)(o.b,{id:"Approving"})," ",null===Fe||void 0===Fe?void 0:Fe.symbol]}):Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsx)(o.b,{id:"Approve"})," ",null===Fe||void 0===Fe?void 0:Fe.symbol]})})]}),Object(ne.jsx)(S.e,{onClick:()=>{ge?Rt():Xe(!0)},disabled:!Qe||ht!==F.a.APPROVED||Ct!==F.a.APPROVED,error:!Qe&&!!Ee[G.a.CURRENCY_A]&&!!Ee[G.a.CURRENCY_B]&&!!(oe&&+Me<1),children:Object(ne.jsx)(I.e,{fontWeight:500,children:null!==Be&&void 0!==Be?Be:!oe&&+Me<1?s.a._("Enter amp (>=1)"):s.a._("Supply")})})]}):Object(ne.jsx)(S.h,{onClick:ve,children:Object(ne.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})},se=i("./src/components/CurrencyLogo/index.tsx"),ae=i("./src/components/ZapError/index.tsx"),re=i("./src/components/swapv2/FormattedPriceImpact.tsx"),ce=i("./src/state/swap/hooks.ts"),de=i("./src/utils/currencyId.ts"),le=i("./src/utils/prices.ts"),be=e=>{var t,i,r,l,b,j,u,p,v=e.currencyIdA,oe=e.currencyIdB,be=e.pairAddress,je=Object(x.b)(),ue=je.account,pe=je.chainId,me=je.isEVM,xe=je.networkInfo,Oe=Object(x.e)().library,ve=Object(M.a)(),he=Object(O.f)(v),ge=Object(O.f)(oe),fe=Object(V.w)(),ye=Object(d.useState)(""),Ce=Object(n.a)(ye,2),ke=Ce[0],_e=Ce[1],we=Object(J.c)(),Re=Object(n.a)(we,1)[0],Ie=Object(h.d)(),Se=Ie.independentField,Ae=Ie.typedValue,Ee=Ie.otherTypedValue,Ne=Object(h.b)(null!==he&&void 0!==he?he:void 0,null!==ge&&void 0!==ge?ge:void 0,be),Te=Ne.dependentField,Pe=Ne.currencies,Ue=Ne.pair,Be=Ne.pairState,Ye=Ne.currencyBalances,qe=Ne.parsedAmounts,Le=Ne.price,De=Ne.noLiquidity,Fe=Ne.liquidityMinted,Me=Ne.poolTokenPercentage,ze=Ne.insufficientLiquidity,We=Ne.error,He=Ne.unAmplifiedPairAddress,Ve=Ne.isStaticFeePair,Ge=Ne.isOldStaticFeeContract,Qe=Object(g.f)(Pe[G.a.CURRENCY_A]),Ze=Object(g.f)(Pe[G.a.CURRENCY_B]),Je=Qe&&Ze?Se===G.a.CURRENCY_A?Qe:Ze:void 0,Ke=Qe&&Ze?Se===G.a.CURRENCY_A?Ze:Qe:void 0,Xe=!!(pe&&Pe[Se]&&null!==(t=Pe[Se])&&void 0!==t&&t.isNative),$e=!!(pe&&Pe[Se]&&null!==(i=Pe[Se])&&void 0!==i&&i.equals(a.WETH[pe])),et=(null===Ue||void 0===Ue?void 0:Ue.amp)||c.a.BigInt(0),tt=et.toString()?new a.Fraction(c.a.BigInt(Object(w.parseUnits)(et.toString()||"1",20)),c.a.BigInt(Object(w.parseUnits)("1",16))):void 0,it=!!tt&&tt.equalTo(c.a.BigInt(1e4))&&!!He&&!Object(ee.a)(He),nt=Object(h.e)(),ot=nt.onFieldInput,st=nt.onSwitchField,at=!We&&!ze,rt=Object(d.useState)(!1),ct=Object(n.a)(rt,2),dt=ct[0],lt=ct[1],bt=Object(d.useState)(!1),jt=Object(n.a)(bt,2),ut=jt[0],pt=jt[1],mt=Object(W.a)(),xt=Object(J.y)(),Ot=Object(n.a)(xt,1)[0],vt=Object(d.useState)(""),ht=Object(n.a)(vt,2),gt=ht[0],ft=ht[1],yt={[Se]:Ae,[Te]:De?Ee:null!==(r=null===(l=qe[Te])||void 0===l?void 0:l.toSignificant(6))&&void 0!==r?r:""},Ct=[G.a.CURRENCY_A,G.a.CURRENCY_B].reduce(((e,t)=>Object(C.a)(Object(C.a)({},e),{},{[t]:Object(te.b)(Ye[t])})),{}),kt=Object(ce.b)(Ae,Pe[Se]),_t=Object(F.b)(kt,me?Ve?Ge?null===(b=xe.classic.oldStatic)||void 0===b?void 0:b.zap:xe.classic.static.zap:null===(j=xe.classic.dynamic)||void 0===j?void 0:j.zap:void 0),wt=Object(n.a)(_t,2),Rt=wt[0],It=wt[1],St=Object(d.useMemo)((()=>{var e;return Object(ce.b)(Ae,null===(e=Pe[Se])||void 0===e?void 0:e.wrapped,!0)}),[Pe,Se,Ae]),At=Object(d.useMemo)((()=>St?k.a.from(St.quotient.toString()):void 0),[St]),Et=Fe?c.a.divide(c.a.multiply(null===Fe||void 0===Fe?void 0:Fe.quotient,c.a.BigInt(1e4-Ot)),c.a.BigInt(1e4)):c.a.BigInt(0),Nt=Object(Q.g)();function Tt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(y.a)(Object(f.a)().mark((function e(){var t,i,n,o,r,d,l,b,j,u,p,m;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me&&Oe&&ue){e.next=2;break}return e.abrupt("return");case 2:if(o=Object($.g)(pe,Oe,ue,Ve,Ge),ue){e.next=5;break}return e.abrupt("return");case 5:if(r=null===(t=Pe[Se])||void 0===t?void 0:t.wrapped,d=null===(i=Pe[Te])||void 0===i?void 0:i.wrapped,Ue&&Ue.address&&mt&&r&&d&&At){e.next=9;break}return e.abrupt("return");case 9:if(l=qe[G.a.CURRENCY_A],b=qe[G.a.CURRENCY_B],l&&b&&he&&ge&&mt){e.next=12;break}return e.abrupt("return");case 12:if(Ue){e.next=14;break}return e.abrupt("return");case 14:return null!==(n=Pe[Se])&&void 0!==n&&n.isNative?(j=o.estimateGas.zapInEth,u=o.zapInEth,p=[d.address,Ue.address,ue,Et.toString(),mt.toHexString()],m=At):(j=o.estimateGas.zapIn,u=o.zapIn,p=[r.address,d.address,At.toString(),Ue.address,ue,Et.toString(),mt.toHexString()],m=null),Ve&&!Ge&&p.unshift(xe.classic.static.factory),pt(!0),e.next=19,j(...p,m?{value:m}:{}).then((e=>u(...p,Object(C.a)(Object(C.a)({},m?{value:m}:{}),{},{gasLimit:Object(X.b)(e)})).then((e=>{var t=Pe[G.a.CURRENCY_A],i=Pe[G.a.CURRENCY_B];if(t&&i){var n=null===St||void 0===St?void 0:St.toSignificant(6);pt(!1),Nt({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,tokenSymbolIn:t.symbol,tokenSymbolOut:i.symbol,tokenAmountIn:n,contract:be,arbitrary:{poolAddress:be,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"single token",amp:new a.Fraction(et).divide(c.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),ft(e.hash)}})))).catch((e=>{pt(!1);var t=new Error("Classic: ZapIn liquidity Error",{cause:e});t.name="ZapError",Object(_.a)(t,{extra:{args:p}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT_MINT_QTY")?_e(s.a._("Insufficient liquidity available. Please reload page and try again!")):_e(null===e||void 0===e?void 0:e.message)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ut="Supplying ".concat(null===St||void 0===St?void 0:St.toSignificant(6)," ").concat(null===Je||void 0===Je?void 0:Je.symbol),Bt=Object(d.useCallback)((()=>{lt(!1),gt&&ot(""),_e(""),ft("")}),[ot,gt]),Yt=Ue?Ue.reserve0.asFraction.divide(Ue.virtualReserve0).multiply("100").divide(Ue.reserve0.divide(Ue.virtualReserve0).asFraction.add(Ue.reserve1.divide(Ue.virtualReserve1).asFraction)):new a.Fraction(c.a.BigInt(50)),qt=new a.Fraction(c.a.BigInt(100),c.a.BigInt(1)).subtract(Yt),Lt=Yt.toSignificant(4),Dt=qt.toSignificant(4),Ft=Object(d.useMemo)((()=>[Pe[Se],Pe[Te]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[Pe,Te,Se]),Mt=Object(V.t)(Ft),zt=Object(z.a)(Ft),Wt=Se===G.a.CURRENCY_A?Number(null===Le||void 0===Le?void 0:Le.toSignificant(6)):Number(null===Le||void 0===Le?void 0:Le.invert().toSignificant(6)),Ht=zt[1]&&zt[0]/zt[1],Vt=!!(Wt&&Ht&&Math.abs(Wt-Ht)/Ht>.05),Gt=Object(d.useCallback)((()=>{st()}),[st]),Qt=St&&Mt[0]?parseFloat(St.toSignificant(6))*Mt[0]:0,Zt=Mt[0]&&qe&&qe[Se]&&Mt[0]*parseFloat(qe[Se].toSignificant(6)),Jt=Mt[1]&&qe&&qe[Te]&&Mt[1]*parseFloat(qe[Te].toSignificant(6)),Kt=Se===G.a.CURRENCY_A?[Zt||0,Jt||0]:[Jt||0,Zt||0],Xt=Le&&St&&qe[Se]&&qe[Te]&&!St.lessThan(qe[Se])?Object(a.computePriceImpact)(Se===G.a.CURRENCY_A?Le:Le.invert(),null===St||void 0===St?void 0:St.subtract(qe[Se]),qe[Te]):void 0,$t=Ue&&Xt?Object(le.b)([Ue],Xt):void 0,ei=Object(le.f)($t),ti=()=>Object(ne.jsxs)(A.a,{gap:"5px",children:[Object(ne.jsx)(Y.e,{style:{marginTop:"20px"},children:Object(ne.jsx)(I.e,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Fe||void 0===Fe?void 0:Fe.toSignificant(6)})}),Object(ne.jsx)(Y.f,{children:Object(ne.jsx)(I.e,{fontSize:"24px",children:"DMM "+(null===Qe||void 0===Qe?void 0:Qe.symbol)+"/"+(null===Ze||void 0===Ze?void 0:Ze.symbol)+" LP Tokens"})}),Object(ne.jsx)(K.k.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:Ot/100})})]}),ii=()=>Object(ne.jsx)(E.a,{pair:Ue,price:Le,currencies:Pe,parsedAmounts:qe,noLiquidity:!1,onAdd:Tt,poolTokenPercentage:Me,amplification:tt,priceImpact:$t,estimatedUsd:Kt});return Object(ne.jsxs)(H.b,{children:[Object(ne.jsx)(q.e,{isOpen:dt,onDismiss:Bt,attemptingTxn:ut,hash:gt,content:()=>ke?Object(ne.jsx)(q.c,{onDismiss:Bt,message:ke}):it?Object(ne.jsx)(q.a,{title:s.a._("Unamplified Pool existed"),onDismiss:Bt,topContent:()=>null,bottomContent:()=>Object(ne.jsxs)(ne.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ne.jsx)(K.j,{onClick:Bt,id:"unamplified-pool-link",to:"/add/".concat(v,"/").concat(oe,"/").concat(He),children:"Go to unamplified pool"})]})}):Object(ne.jsx)(q.a,{title:s.a._("You will receive"),onDismiss:Bt,topContent:ti,bottomContent:ii}),pendingText:Ut}),Object(ne.jsx)(A.a,{gap:"20px",children:Object(ne.jsxs)(ie.g,{children:[Object(ne.jsxs)(ie.f,{children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(N.a,{value:yt[Se],onUserInput:ot,onMax:()=>{var e,t;ot(null!==(e=null===(t=Ct[Se])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;ot(null!==(e=null===(t=Ye[Se])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},onSwitchCurrency:Gt,currency:Pe[Se],id:"zap-in-input",disableCurrencySelect:!1,showCommonBases:!0,positionMax:"top",isSwitchMode:!0,estimatedUsd:Object(X.i)(Qt.toString(),!0)||void 0}),Object(ne.jsxs)(I.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ne.jsx)(ie.p,{children:Mt[0]?"1 ".concat(null===Je||void 0===Je?void 0:Je.symbol," = ").concat(Object(X.i)(Mt[0].toString(),!0)):Object(ne.jsx)(P.a,{})}),be&&pe&&(Xe||$e)&&Pe[Te]&&Object(ne.jsx)(K.j,{replace:!0,to:Se===G.a.CURRENCY_A?"/add/".concat(Xe?Object(de.a)(a.WETH[pe],pe):Object(de.a)(D.i[pe],pe),"/").concat(Object(de.a)(Pe[Te],pe),"/").concat(be):"/add/".concat(Object(de.a)(Pe[Te],pe),"/").concat(Xe?Object(de.a)(a.WETH[pe],pe):D.i[pe].symbol,"/").concat(be),children:Xe?Object(ne.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ne.jsx)(o.b,{id:"Use Native Token"})})]})]}),Object(ne.jsxs)(ie.m,{padding:"0",marginTop:"8px",borderRadius:"20px",children:[Object(ne.jsx)(Y.f,{padding:"0 0 1rem 0",children:Object(ne.jsx)(K.k.subHeader,{fontWeight:500,fontSize:16,color:ve.text,children:Object(ne.jsx)(o.b,{id:"Your Pool Allocation"})})}),Object(ne.jsxs)(ie.d,{style:{padding:"16px 0",borderTop:"1px dashed ".concat(ve.border),borderBottom:"1px dashed ".concat(ve.border)},children:[Object(ne.jsxs)(A.a,{justify:"space-between",gap:"4px",children:[Object(ne.jsxs)(ie.n,{children:[Object(ne.jsx)(se.a,{currency:Pe[Se]||void 0,size:"16px"}),Object(ne.jsx)(K.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Je||void 0===Je?void 0:Je.symbol})]}),Object(ne.jsxs)(K.k.black,{fontWeight:400,fontSize:14,children:[null===(u=qe[Se])||void 0===u?void 0:u.toSignificant(6)," (~",Object(X.i)((Zt||0).toString(),!0),")"]})]}),Object(ne.jsxs)(A.a,{justify:"space-between",gap:"4px",children:[Object(ne.jsxs)(ie.n,{children:[Object(ne.jsx)(se.a,{currency:Pe[Te]||void 0,size:"16px"}),Object(ne.jsx)(K.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Ke||void 0===Ke?void 0:Ke.symbol})]}),Object(ne.jsxs)(K.k.black,{fontWeight:400,fontSize:14,children:[null===(p=qe[Te])||void 0===p?void 0:p.toSignificant(6)," (~",Object(X.i)((Jt||0).toString(),!0),")"]})]})]}),Object(ne.jsxs)(ie.d,{style:{paddingTop:"16px"},children:[Object(ne.jsx)(K.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:Object(ne.jsx)(o.b,{id:"Price Impact"})}),Object(ne.jsx)(K.k.black,{fontWeight:400,fontSize:14,children:Object(ne.jsx)(re.a,{priceImpact:$t})})]})]}),Pe[Se]&&Pe[Te]&&Be!==m.a.INVALID&&Object(ne.jsx)(ie.m,{padding:"0",borderRadius:"20px",style:{marginTop:"8px"},children:Object(ne.jsx)(U.a,{currencies:Pe,poolTokenPercentage:Me,noLiquidity:De,price:Le,pair:Ue})})]}),Object(ne.jsxs)(ie.l,{children:[Pe[Se]&&Pe[Te]&&Be!==m.a.INVALID&&Object(ne.jsx)(ie.m,{borderRadius:"20px",marginBottom:"28px",children:Object(ne.jsxs)(U.d,{title:s.a._("Pool Information"),children:[Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[!De&&Object(ne.jsxs)(ie.c,{children:[Object(ne.jsx)(K.k.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.m,{children:Object(ne.jsx)(o.b,{id:"Current Price"})})}),Object(ne.jsx)(K.k.black,{fontWeight:400,fontSize:14,color:ve.text,children:Object(ne.jsx)(T.a,{price:Le})})]}),Object(ne.jsxs)(ie.k,{children:[Object(ne.jsx)(K.k.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.m,{children:Object(ne.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ne.jsxs)(K.k.black,{fontWeight:400,fontSize:14,color:ve.text,children:[Lt,"% ",null===Ue||void 0===Ue?void 0:Ue.token0.symbol," - ",Dt,"% ",null===Ue||void 0===Ue?void 0:Ue.token1.symbol]})]})]}),Object(ne.jsxs)(Y.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[Object(ne.jsxs)(A.a,{style:{flex:"1"},children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(I.e,{fontWeight:500,fontSize:12,color:ve.subText,children:"AMP"}),Object(ne.jsx)(B.a,{text:L.e})]}),Object(ne.jsx)(I.e,{fontWeight:400,fontSize:14,color:ve.text,children:Ue?Object(ne.jsx)(ne.Fragment,{children:new a.Fraction(c.a.BigInt(Ue.amp)).divide(c.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!be||+et>=1)&&Object(ne.jsxs)(ie.e,{children:[Object(ne.jsxs)(Y.a,{children:[Object(ne.jsx)(I.e,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ne.jsx)(K.m,{children:Ve||!Ue?Object(ne.jsx)(o.b,{id:"Fee"}):Object(ne.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ne.jsx)(B.a,{text:Ve||!Ue?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ne.jsx)(I.e,{fontWeight:400,fontSize:14,color:ve.text,children:Ue?Ve&&null!==Ue&&void 0!==Ue&&Ue.fee?100*+new a.Fraction(c.a.BigInt(Ue.fee)).divide(c.a.exponentiate(c.a.BigInt(10),c.a.BigInt(18))).toSignificant(6)+"%":Object(g.b)(null!==Ue&&void 0!==Ue&&Ue.amp?+new a.Fraction(c.a.BigInt(Ue.amp)).divide(c.a.BigInt(1e4)).toSignificant(5):+et):""})]})]}),Pe[Se]&&Pe[Te]&&(!!be||+et>=1)&&Object(ne.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ne.jsxs)(Y.a,{marginBottom:"8px",children:[Object(ne.jsx)(K.m,{children:Object(ne.jsx)(ie.a,{children:"Active Price Range"})}),Object(ne.jsx)(B.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ne.jsx)(U.b,{currencies:Pe,price:Le,pair:Ue,amplification:tt})]})]})}),Vt&&Object(ne.jsxs)(ie.q,{children:[Object(ne.jsx)(R.a,{color:ve.yellow2}),Object(ne.jsx)(I.e,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ne.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),ze?Object(ne.jsx)(ae.a,{message:s.a._("Insufficient Liquidity in the Liquidity Pool to Swap"),warning:!1}):ei>3?Object(ne.jsx)(ae.a,{message:s.a._("Price impact is too high"),warning:!1}):ei>2?Object(ne.jsx)(ae.a,{message:s.a._("Price impact is high"),warning:!0}):null,ue?Object(ne.jsxs)(A.a,{gap:"md",children:[(Rt===F.a.NOT_APPROVED||Rt===F.a.PENDING)&&at&&(Re||ei<=3)&&Object(ne.jsx)(Y.b,{children:Object(ne.jsx)(S.j,{onClick:It,disabled:!at||Rt===F.a.PENDING||ei>3&&!Re,width:"100%",children:Rt===F.a.PENDING?Object(ne.jsxs)(H.a,{children:["Approving ",null===Je||void 0===Je?void 0:Je.symbol]}):"Approve "+(null===Je||void 0===Je?void 0:Je.symbol)})}),Object(ne.jsx)(S.e,{id:"btnSupply",onClick:()=>{Re?Tt():lt(!0)},disabled:!at||Rt!==F.a.APPROVED||ei>3&&!Re,error:!!qe[Se]&&!!qe[Te]&&!!be&&(!at||ei>2),children:Object(ne.jsx)(I.e,{fontSize:20,fontWeight:500,children:null!==We&&void 0!==We?We:!be&&+et<1?s.a._("Enter amp (>=1)"):ei>3&&!Re?s.a._("Supply"):ei>2?s.a._("Supply Anyway"):s.a._("Supply")})})]}):Object(ne.jsx)(S.h,{onClick:fe,children:Object(ne.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})};function je(){var e,t,i=Object(l.o)(),r=i.currencyIdA,f=void 0===r?"":r,y=i.currencyIdB,C=void 0===y?"":y,k=i.pairAddress,_=void 0===k?"":k,w=Object(x.b)(),R=w.chainId,I=w.isEVM,S=null!==(e=Object(O.f)(f))&&void 0!==e?e:void 0,A=null!==(t=Object(O.f)(C))&&void 0!==t?t:void 0,E=Object(g.f)(S),N=Object(g.f)(A),T=!(!R||null===S||void 0===S||!S.equals(a.WETH[R])),P=!(!R||null===A||void 0===A||!A.equals(a.WETH[R]))||T,U=Object(h.a)(S,A,_),B=U.pair,Y=U.pairState,q=U.noLiquidity,L=(null===B||void 0===B?void 0:B.amp)||c.a.BigInt(0),D=Object(d.useState)(0),F=Object(n.a)(D,2),M=F[0],z=F[1],W=Object(v.c)().mixpanelHandler;return Object(d.useEffect)((()=>{W(v.a.ADD_LIQUIDITY_INITIATED,{token_1:null===E||void 0===E?void 0:E.symbol,token_2:null===N||void 0===N?void 0:N.symbol,amp:new a.Fraction(L).divide(c.a.BigInt(1e4)).toSignificant(5)})}),[]),I?Object(ne.jsx)(ne.Fragment,{children:Object(ne.jsxs)(ie.i,{children:[Object(ne.jsxs)(ie.b,{children:[Object(ne.jsx)(j.a,{action:j.c.ADD,tutorialType:p.a.CLASSIC_ADD_LIQUIDITY}),Object(ne.jsxs)(ie.o,{children:[Object(ne.jsx)(ie.h,{children:Object(ne.jsx)(b.a,{activeTab:M,setActiveTab:z,singleTokenInfo:s.a._("Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction")})}),Object(ne.jsxs)(ie.j,{children:[null===E||void 0===E?void 0:E.symbol," - ",null===N||void 0===N?void 0:N.symbol," ",Object(ne.jsx)(o.b,{id:"pool"})]})]}),0===M?Object(ne.jsx)(oe,{currencyIdA:f,currencyIdB:C,pairAddress:_}):Object(ne.jsx)(be,{currencyIdA:f,currencyIdB:C,pairAddress:_})]}),B&&!q&&Y!==m.a.INVALID?Object(ne.jsx)(ie.b,{style:{marginTop:"24px",padding:"0"},children:Object(ne.jsx)(u.a,{showUnwrapped:P,pair:B})}):null]})}):Object(ne.jsx)(l.a,{to:"/"})}},"./src/pages/IncreaseLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return ge}));var n=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),a=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=i("./node_modules/@lingui/react/esm/index.js"),c=i("./node_modules/@lingui/core/esm/index.js"),d=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),l=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),b=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),j=i("./node_modules/jsbi/dist/jsbi-umd.js"),u=i.n(j),p=i("./node_modules/react/index.js"),m=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),x=i("./node_modules/react-router/dist/index.js"),O=i("./node_modules/react-use/esm/usePrevious.js"),v=i("./node_modules/react-use/esm/useMedia.js"),h=i("./node_modules/rebass/dist/index.esm.js"),g=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),f=i("./src/components/Badge/RangeBadge.tsx"),y=i("./src/components/Button/index.tsx"),C=i("./src/components/Card/index.tsx"),k=i("./src/components/Column/index.tsx"),_=i("./src/components/CurrencyInputPanel/index.tsx"),w=i("./src/components/CurrencyLogo/index.tsx"),R=i("./src/components/Divider/index.tsx"),I=i("./src/components/Dots.tsx"),S=i("./src/components/ElasticDisclaimerModal.tsx"),A=i("./src/components/FormattedCurrencyAmount/index.tsx"),E=i("./src/components/Loader/index.tsx"),N=i("./src/components/NavigationTabs/index.tsx"),T=i("./src/components/ProAmm/ProAmmPoolInfo.tsx"),P=i("./src/components/ProAmm/ProAmmPooledTokens.tsx"),U=i("./src/components/ProAmm/ProAmmPriceRangeConfirm.tsx"),B=i("./src/components/Rating/index.tsx"),Y=i("./src/components/Row/index.tsx"),q=i("./src/components/SlippageWarningNote/index.tsx"),L=i("./src/components/TransactionConfirmationModal/index.tsx"),D=i("./src/components/Tutorial/index.tsx"),F=i("./src/constants/index.ts"),M=i("./src/constants/tokens.ts"),z=i("./src/hooks/index.ts"),W=i("./src/hooks/Tokens.ts"),H=i("./src/hooks/useApproveCallback.ts"),V=i("./src/hooks/useContract.ts"),G=i("./src/hooks/usePools.ts");var Q=i("./src/hooks/useProAmmPositions.ts"),Z=i("./src/hooks/useProAmmPreviousTicks.ts"),J=i("./src/hooks/useTheme.ts"),K=i("./src/hooks/useTransactionDeadline.ts"),X=i("./src/pages/RemoveLiquidityProAmm/styled.tsx"),$=i("./src/state/application/hooks.ts"),ee=i("./src/state/mint/proamm/hooks.tsx"),te=i("./src/state/mint/proamm/type.ts"),ie=i("./src/state/multicall/hooks.ts"),ne=i("./src/state/tokenPrices/hooks.ts"),oe=i("./src/state/transactions/hooks.tsx"),se=i("./src/state/transactions/type.ts"),ae=i("./src/state/user/hooks.tsx"),re=i("./src/theme/index.tsx"),ce=i("./src/utils/index.ts"),de=i("./src/utils/maxAmountSpend.ts"),le=i("./src/utils/slippage.ts"),be=i("./src/utils/wrappedCurrency.ts"),je=i("./src/components/Icons/index.ts"),ue=i("./src/components/InfoHelper/index.tsx"),pe=i("./src/components/LiquidityChartRangeInput/index.tsx"),me=i("./src/utils/formatTickPrice.ts"),xe=i("./node_modules/react/jsx-runtime.js");function Oe(e){var t=e.position,i=e.ticksAtLimit,n=Object(J.a)(),o=Object(be.a)(t.pool.token0),s=Object(be.a)(t.pool.token1),d=Object(p.useState)(o),l=Object(a.a)(d,2),b=l[0],j=l[1],u=b.symbol===o.symbol,m=u?s:o,x=u?t.pool.priceOf(t.pool.token0):t.pool.priceOf(t.pool.token1),O=u?t.token0PriceLower:t.token0PriceUpper.invert(),v=u?t.token0PriceUpper:t.token0PriceLower.invert(),g=Object(p.useCallback)((()=>{j(m)}),[m]);return Object(xe.jsxs)(k.a,{gap:"13px",children:[Object(xe.jsxs)("div",{children:[Object(xe.jsxs)(h.b,{alignItems:"center",justifyContent:"center",sx:{gap:"8px"},children:[Object(xe.jsx)(h.e,{fontSize:12,fontWeight:500,color:n.subText,children:Object(xe.jsx)(r.b,{id:"Current Price"})}),Object(xe.jsxs)(Y.d,{children:[Object(xe.jsx)(h.e,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:"".concat(x.toSignificant(6)," ").concat(m.symbol," per ").concat(b.symbol)}),Object(xe.jsx)("span",{onClick:g,style:{marginLeft:"2px",cursor:"pointer"},children:Object(xe.jsx)(je.k,{size:16})})]})]}),Object(xe.jsx)(pe.a,{style:{minHeight:"180px"},currencyA:b,currencyB:m,feeAmount:t.pool.fee,ticksAtLimit:i,price:x?parseFloat(x.toSignificant(8)):void 0,leftPrice:O,rightPrice:v,onLeftRangeInput:()=>{},onRightRangeInput:()=>{},interactive:!1,height:"233.5px"})]}),Object(xe.jsxs)(Y.b,{style:{gap:"12px"},children:[Object(xe.jsxs)(h.b,{children:[Object(xe.jsx)(h.e,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(xe.jsx)(r.b,{id:"Min Price"})}),Object(xe.jsx)(ue.a,{text:c.a._("Your position will be 100% composed of {0} at this price",{0:null===b||void 0===b?void 0:b.symbol}),placement:"right",size:12})]}),Object(xe.jsx)(h.e,{fontWeight:"500",fontSize:"12px",children:Object(xe.jsx)(r.b,{id:"{0} {1} per {2}",values:{0:Object(me.a)(O,i,te.a.LOWER),1:m.symbol,2:b.symbol}})})]}),Object(xe.jsxs)(Y.b,{style:{gap:"12px"},children:[Object(xe.jsxs)(h.b,{children:[Object(xe.jsx)(h.e,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(xe.jsx)(r.b,{id:"Max Price"})}),Object(xe.jsx)(ue.a,{text:c.a._("Your position will be 100% composed of {0} at this price",{0:null===m||void 0===m?void 0:m.symbol}),placement:"right",size:12})]}),Object(xe.jsx)(h.e,{fontSize:"12px",fontWeight:"500",children:Object(xe.jsx)(r.b,{id:"{0} {1} per {2}",values:{0:Object(me.a)(v,i,te.a.UPPER),1:m.symbol,2:b.symbol}})})]})]})}var ve=Object(g.default)(h.e).withConfig({displayName:"IncreaseLiquidity__TextUnderlineColor",componentId:"sc-lf8wm5-0"})(["border-bottom:1px solid ",";width:fit-content;display:inline;cursor:pointer;color:",";font-weight:500;"],(e=>e.theme.text),(e=>e.theme.text)),he=Object(g.default)(h.e).withConfig({displayName:"IncreaseLiquidity__TextUnderlineTransparent",componentId:"sc-lf8wm5-1"})(["border-bottom:1px solid transparent;width:fit-content;display:inline;"]);function ge(){var e,t,i,j,g,je,ue,pe,me,ge,fe,ye,Ce,ke,_e=Object(x.o)(),we=_e.currencyIdB,Re=_e.currencyIdA,Ie=_e.feeAmount,Se=_e.tokenId,Ae=Object(z.b)(),Ee=Ae.account,Ne=Ae.chainId,Te=Ae.isEVM,Pe=Ae.networkInfo,Ue=Object(z.e)().library,Be=Object(x.m)(),Ye=Object(J.a)(),qe=Object($.w)(),Le=Object(ae.c)(),De=Object(a.a)(Le,1)[0],Fe=Object(oe.g)(),Me=Object(O.a)(Ne);Object(p.useEffect)((()=>{Ne&&Me&&Ne!==Me&&Be(F.f.MY_POOLS)}),[Ne,Me,Be]);var ze=Object(V.m)(),We=Object(Q.c)(Se?b.a.from(Se):void 0).position,He=null===(e=Object(ie.c)(Se?ze:null,"ownerOf",[Se]).result)||void 0===e?void 0:e[0],Ve=He===Ee||(null===We||void 0===We?void 0:We.operator)===Ee,Ge=!!Te&&Pe.elastic.farms.flat().includes(Object(ce.t)(Ne,He)),Qe=function(e){var t=Object(W.f)(null===e||void 0===e?void 0:e.token0),i=Object(W.f)(null===e||void 0===e?void 0:e.token1),n=Object(G.b)(null!==t&&void 0!==t?t:void 0,null!==i&&void 0!==i?i:void 0,null===e||void 0===e?void 0:e.fee),o=Object(a.a)(n,2)[1],s=void 0;return o&&e&&(s=new l.Position({pool:o,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})),{position:s,pool:null!==o&&void 0!==o?o:void 0}}(We),Ze=Qe.position,Je=null===We||void 0===We||null===(t=We.liquidity)||void 0===t?void 0:t.eq(0),Ke=Ie&&Object.values(l.FeeAmount).includes(parseFloat(Ie))?parseFloat(Ie):void 0,Xe=Object(W.f)(Re),$e=Object(W.f)(we),et=Xe&&$e&&Xe.wrapped.equals($e.wrapped)?void 0:$e,tt=Object(ee.e)().positions[0],it=tt.independentField,nt=tt.typedValue,ot=Object(ee.c)(0,null!==Xe&&void 0!==Xe?Xe:void 0,null!==et&&void 0!==et?et:void 0,Ke,null!==Xe&&void 0!==Xe?Xe:void 0,Ze),st=ot.pool,at=ot.dependentField,rt=ot.parsedAmounts,ct=ot.currencyBalances,dt=ot.position,lt=ot.noLiquidity,bt=ot.currencies,jt=ot.errorMessage,ut=ot.invalidRange,pt=ot.outOfRange,mt=ot.depositADisabled,xt=ot.depositBDisabled,Ot=ot.ticksAtLimit,vt=ot.riskPoint,ht=ot.profitPoint,gt=!!(Ne&&Xe&&Xe.isNative),ft=!!(Ne&&Xe&&Xe.equals(d.WETH[Ne])),yt=!!(Ne&&et&&et.isNative),Ct=!!(Ne&&et&&et.equals(d.WETH[Ne])),kt=(null===Xe||void 0===Xe?void 0:Xe.wrapped.address)||"",_t=(null===et||void 0===et?void 0:et.wrapped.address)||"",wt=Object(ne.a)([kt,_t]),Rt=rt[te.b.CURRENCY_A]&&wt[kt]?parseFloat((null===(i=rt[te.b.CURRENCY_A])||void 0===i?void 0:i.toExact())||"0")*wt[kt]:0,It=rt[te.b.CURRENCY_B]&&wt[_t]?parseFloat((null===(j=rt[te.b.CURRENCY_B])||void 0===j?void 0:j.toExact())||"0")*wt[_t]:0,St=Ze&&d.CurrencyAmount.fromRawAmount(Object(be.a)(Ze.pool.token0),Ze.amount0.quotient),At=Ze&&d.CurrencyAmount.fromRawAmount(Object(be.a)(Ze.pool.token1),Ze.amount1.quotient),Et=parseFloat((null===St||void 0===St?void 0:St.toExact())||"0")*wt[(null===St||void 0===St||null===(g=St.currency)||void 0===g?void 0:g.wrapped.address)||""]+parseFloat((null===At||void 0===At?void 0:At.toExact())||"0")*wt[(null===At||void 0===At||null===(je=At.currency)||void 0===je?void 0:je.wrapped.address)||""],Nt=Object(Z.a)(st,dt),Tt=Object(ee.d)(lt,0),Pt=Tt.onFieldAInput,Ut=Tt.onFieldBInput,Bt=Tt.onResetMintState;Object(p.useEffect)((()=>{Bt()}),[Bt]);var Yt=!jt&&!ut,qt=Object(p.useState)(!1),Lt=Object(a.a)(qt,2),Dt=Lt[0],Ft=Lt[1],Mt=Object(p.useState)(!1),zt=Object(a.a)(Mt,2),Wt=zt[0],Ht=zt[1],Vt=Object(K.a)(),Gt=Object(p.useState)(""),Qt=Object(a.a)(Gt,2),Zt=Qt[0],Jt=Qt[1],Kt={[it]:nt,[at]:null!==(ue=null===(pe=rt[at])||void 0===pe?void 0:pe.toSignificant(6))&&void 0!==ue?ue:""},Xt=[te.b.CURRENCY_A,te.b.CURRENCY_B].reduce(((e,t)=>Object(s.a)(Object(s.a)({},e),{},{[t]:Object(de.b)(ct[t])})),{}),$t=Object(H.b)(rt[te.b.CURRENCY_A],Pe.elastic.nonfungiblePositionManager),ei=Object(a.a)($t,2),ti=ei[0],ii=ei[1],ni=Object(H.b)(rt[te.b.CURRENCY_B],Pe.elastic.nonfungiblePositionManager),oi=Object(a.a)(ni,2),si=oi[0],ai=oi[1],ri=Object(ae.y)(),ci=Object(a.a)(ri,1)[0];function di(){return li.apply(this,arguments)}function li(){return(li=Object(o.a)(Object(n.a)().mark((function e(){var t,i,o,a,r;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te&&Ue&&Ee&&Se){e.next=2;break}return e.abrupt("return");case 2:if(ze&&Xe&&et){e.next=4;break}return e.abrupt("return");case 4:if(Nt&&2===Nt.length){e.next=6;break}return e.abrupt("return");case 6:if(!(dt&&Ee&&Vt)){e.next=14;break}t=Xe.isNative?Xe:et.isNative?et:void 0,i=l.NonfungiblePositionManager.addCallParameters(dt,Nt,{slippageTolerance:new d.Percent(ci,1e4),deadline:Vt.toString(),useNative:t,tokenId:u.a.BigInt(Se)}),o=i.calldata,a=i.value,r={to:Pe.elastic.nonfungiblePositionManager,data:o,value:a},Ht(!0),Ue.getSigner().estimateGas(r).then((e=>{var t=Object(s.a)(Object(s.a)({},r),{},{gasLimit:Object(ce.b)(e)});return Ue.getSigner().sendTransaction(t).then((e=>{var t,i,n,o;Ht(!1);var s=(null===(t=rt[te.b.CURRENCY_A])||void 0===t?void 0:t.toSignificant(6))||"0",a=(null===(i=rt[te.b.CURRENCY_B])||void 0===i?void 0:i.toSignificant(6))||"0",r=null!==(n=null===Xe||void 0===Xe?void 0:Xe.symbol)&&void 0!==n?n:"",c=null!==(o=null===et||void 0===et?void 0:et.symbol)&&void 0!==o?o:"";Fe({hash:e.hash,type:se.c.ELASTIC_INCREASE_LIQUIDITY,extraInfo:{tokenAmountIn:s,tokenAmountOut:a,tokenAddressIn:Xe.wrapped.address,tokenAddressOut:et.wrapped.address,tokenSymbolIn:r,tokenSymbolOut:c,arbitrary:{token_1:r,token_2:c}}}),Jt(e.hash)}))})).catch((e=>{console.error("Failed to send transaction",e),Ht(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)})),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bi=Object(p.useCallback)((()=>{Ft(!1),Zt&&(Pt(""),Be("/myPools")),Jt("")}),[Be,Pt,Zt]),ji=ti!==H.a.APPROVED&&!!rt[te.b.CURRENCY_A],ui=si!==H.a.APPROVED&&!!rt[te.b.CURRENCY_B],pi="Supplying ".concat(mt?"":null===(me=rt[te.b.CURRENCY_A])||void 0===me?void 0:me.toSignificant(6)," ").concat(mt?"":null===(ge=bt[te.b.CURRENCY_A])||void 0===ge?void 0:ge.symbol," ").concat(mt||xt?"":"and"," ").concat(xt?"":null===(fe=rt[te.b.CURRENCY_B])||void 0===fe?void 0:fe.toSignificant(6)," ").concat(xt?"":null===(ye=bt[te.b.CURRENCY_B])||void 0===ye?void 0:ye.symbol),mi=()=>{var e,t,i,n;return Ee?Object(xe.jsxs)(xe.Fragment,{children:[(ti===H.a.NOT_APPROVED||ti===H.a.PENDING||si===H.a.NOT_APPROVED||si===H.a.PENDING)&&Yt&&Object(xe.jsx)(h.b,{sx:{gap:"16px"},flexDirection:Yt&&ji&&ui?"column":"row",children:Object(xe.jsxs)(Y.b,{children:[ji&&Object(xe.jsx)(y.j,{onClick:ii,disabled:ti===H.a.PENDING,width:ui?"48%":"100%",children:ti===H.a.PENDING?Object(xe.jsx)(I.a,{children:Object(xe.jsx)(r.b,{id:"Approving {0}",values:{0:null===(e=bt[te.b.CURRENCY_A])||void 0===e?void 0:e.symbol}})}):Object(xe.jsx)(r.b,{id:"Approve {0}",values:{0:null===(t=bt[te.b.CURRENCY_A])||void 0===t?void 0:t.symbol}})}),ui&&Object(xe.jsx)(y.j,{onClick:ai,disabled:si===H.a.PENDING,width:ji?"48%":"100%",children:si===H.a.PENDING?Object(xe.jsx)(I.a,{children:Object(xe.jsx)(r.b,{id:"Approving {0}",values:{0:null===(i=bt[te.b.CURRENCY_B])||void 0===i?void 0:i.symbol}})}):Object(xe.jsx)(r.b,{id:"Approve {0}",values:{0:null===(n=bt[te.b.CURRENCY_B])||void 0===n?void 0:n.symbol}})})]})}),Object(xe.jsx)(y.e,{style:{width:xi?"100%":"fit-content",minWidth:"164px"},onClick:()=>{De?di():Ft(!0)},disabled:!Yt||ti!==H.a.APPROVED&&!mt||si!==H.a.APPROVED&&!xt,error:!Yt&&!!rt[te.b.CURRENCY_A]&&!!rt[te.b.CURRENCY_B]&&!1,children:Object(xe.jsx)(h.e,{fontWeight:500,children:jt||Object(xe.jsx)(r.b,{id:"Preview"})})})]}):Object(xe.jsx)(y.h,{onClick:qe,children:Object(xe.jsx)(r.b,{id:"Connect Wallet"})})},xi=Object(v.a)("(max-width: ".concat(re.i.upToMedium,"px)")),Oi=Object(le.b)(ci,!1);return Te?Object(xe.jsxs)(xe.Fragment,{children:[Object(xe.jsx)(L.e,{isOpen:Dt,onDismiss:bi,attemptingTxn:Wt,hash:Zt,content:()=>Object(xe.jsx)(L.a,{title:c.a._("Increase Liquidity"),onDismiss:bi,topContent:()=>Ze&&Object(xe.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(xe.jsx)(T.a,{position:Ze,tokenId:Se}),Object(xe.jsx)(P.a,{liquidityValue0:rt[te.b.CURRENCY_A],liquidityValue1:rt[te.b.CURRENCY_B],title:c.a._("Increase Amount")}),Object(xe.jsx)(U.a,{position:Ze,ticksAtLimit:Ot})]}),bottomContent:()=>Object(xe.jsxs)(xe.Fragment,{children:[Oi===le.a.HIGH&&Object(xe.jsx)(C.g,{padding:"10px 16px",m:"0 0 20px",children:Object(xe.jsxs)(h.b,{alignItems:"center",children:[Object(xe.jsx)(m.a,{stroke:Ye.warning,size:"16px"}),Object(xe.jsx)(re.k.black,{ml:"12px",fontSize:"12px",flex:1,children:Object(xe.jsx)(r.b,{id:"<0>Slippage</0><1>is high. Your transaction may be front-run</1>",components:{0:Object(xe.jsx)(ve,{style:{minWidth:"max-content"},as:"a",href:q.a,target:"_blank",rel:"noreferrer"}),1:Object(xe.jsx)(he,{sx:{ml:"0.5ch"}})}})})]})}),Object(xe.jsx)(y.j,{id:"btnSupply",onClick:di,children:Object(xe.jsx)(h.e,{fontWeight:500,children:Object(xe.jsx)(r.b,{id:"Supply"})})})]})}),pendingText:pi}),Object(xe.jsxs)(X.b,{children:[Object(xe.jsx)(N.a,{hideShare:!0,alignTitle:"left",action:N.c.INCREASE,showTooltip:!1,onBack:()=>{Be("".concat(F.f.POOLS,"/").concat(Pe.route,"?tab=elastic"))},tutorialType:D.a.ELASTIC_INCREASE_LIQUIDITY,owner:He,showOwner:He&&Ee&&!Ve&&!Ge}),Object(xe.jsx)(X.c,{children:Ze?Object(xe.jsx)(k.a,{gap:"md",style:{textAlign:"left"},children:Object(xe.jsxs)(X.e,{children:[Object(xe.jsxs)(X.d,{style:{height:"calc(100% - 56px)"},children:[Object(xe.jsx)(T.a,{position:Ze,tokenId:Se,showRangeInfo:!1}),Object(xe.jsxs)(C.a,{style:{borderRadius:"1rem",padding:"1rem"},children:[Object(xe.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(xe.jsxs)(X.g,{color:Je?Ye.red:pt?Ye.warning:Ye.primary,children:["#",null===Se||void 0===Se?void 0:Se.toString()]}),Object(xe.jsx)(f.a,{removed:Je,inRange:!pt,hideText:!0,size:14})]}),Object(xe.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"1rem",marginBottom:"0.75rem",children:[Object(xe.jsx)(h.e,{children:Object(xe.jsx)(r.b,{id:"My Liquidity"})}),Object(xe.jsx)(h.e,{children:Object(ce.j)(Et,!0)})]}),Object(xe.jsx)(R.a,{}),Object(xe.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(xe.jsxs)(h.e,{color:Ye.subText,children:["Pooled ",Ze.pool.token0.symbol]}),Object(xe.jsxs)(h.b,{alignItems:"center",children:[Object(xe.jsx)(w.a,{currency:Ze.pool.token0,size:"16px"}),Object(xe.jsxs)(h.e,{fontWeight:"500",marginLeft:"4px",children:[Object(xe.jsx)(A.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(be.a)(Ze.pool.token0),Ze.amount0.quotient)})," ",Ze.pool.token0.symbol]})]})]}),Object(xe.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(xe.jsxs)(h.e,{color:Ye.subText,children:["Pooled ",Ze.pool.token1.symbol]}),Object(xe.jsxs)(h.b,{alignItems:"center",children:[Object(xe.jsx)(w.a,{currency:Ze.pool.token1,size:"16px"}),Object(xe.jsxs)(h.e,{fontWeight:"500",marginLeft:"4px",children:[Object(xe.jsx)(A.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(be.a)(Ze.pool.token1),Ze.amount1.quotient)})," ",Ze.pool.token1.symbol]})]})]})]})]}),Object(xe.jsxs)(X.f,{children:[Object(xe.jsxs)(C.a,{style:{marginBottom:"24px"},children:[Object(xe.jsxs)(h.a,{sx:{display:"grid",gridGap:xi?"12px":"24px",gridTemplateColumns:"repeat(".concat(xi?1:2," , fit-content(100%) fit-content(100%))")},children:[Object(xe.jsx)(h.e,{fontSize:12,color:Ye.red,children:Object(xe.jsx)(r.b,{id:"Estimated Risk"})}),Object(xe.jsx)(B.b,{point:vt,color:Ye.red}),Object(xe.jsx)(h.e,{fontSize:12,color:Ye.primary,children:Object(xe.jsx)(r.b,{id:"Estimated Profit"})}),Object(xe.jsx)(B.b,{point:ht,color:Ye.primary})]}),Object(xe.jsx)(h.b,{marginTop:"1rem"}),Object(xe.jsx)(Oe,{position:Ze,ticksAtLimit:Ot}),Object(xe.jsxs)(X.h,{children:[Object(xe.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Ye.border),borderRadius:"1rem"},children:Object(xe.jsx)(_.a,{value:Kt[te.b.CURRENCY_A],onUserInput:Pt,onMax:()=>{var e,t;Pt(null!==(e=null===(t=Xt[te.b.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;Pt(null!==(e=null===(t=ct[te.b.CURRENCY_A])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:null!==(Ce=bt[te.b.CURRENCY_A])&&void 0!==Ce?Ce:null,id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",locked:mt,estimatedUsd:Object(ce.i)(Rt.toString(),!0)||void 0,disableCurrencySelect:!gt&&!ft,isSwitchMode:gt||ft,onSwitchCurrency:()=>{Ne&&Be("/elastic/increase/".concat(gt?d.WETH[Ne].address:M.i[Ne].symbol,"/").concat(we,"/").concat(Ke,"/").concat(Se),{replace:!0})}})}),Object(xe.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Ye.border),borderRadius:"1rem",overflow:"hidden"},children:Object(xe.jsx)(_.a,{value:Kt[te.b.CURRENCY_B],onUserInput:Ut,onMax:()=>{var e,t;Ut(null!==(e=null===(t=Xt[te.b.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;Ut(null!==(e=null===(t=ct[te.b.CURRENCY_B])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:null!==(ke=bt[te.b.CURRENCY_B])&&void 0!==ke?ke:null,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",locked:xt,estimatedUsd:Object(ce.i)(It.toString(),!0)||void 0,disableCurrencySelect:!yt&&!Ct,isSwitchMode:yt||Ct,onSwitchCurrency:()=>{Ne&&Be("/elastic/increase/".concat(Re,"/").concat(yt?d.WETH[Ne].address:M.i[Ne].symbol,"/").concat(Ke,"/").concat(Se),{replace:!0})}})})]})]}),Oi===le.a.HIGH&&Object(xe.jsx)(C.g,{padding:"10px 16px",mb:"16px",children:Object(xe.jsxs)(h.b,{alignItems:"center",children:[Object(xe.jsx)(m.a,{stroke:Ye.warning,size:"16px"}),Object(xe.jsx)(re.k.black,{ml:"12px",fontSize:"12px",flex:1,children:Object(xe.jsx)(r.b,{id:"<0>Slippage</0><1>is high. Your transaction may be front-run</1>",components:{0:Object(xe.jsx)(ve,{style:{minWidth:"max-content"},as:"a",href:q.a,target:"_blank",rel:"noreferrer"}),1:Object(xe.jsx)(he,{sx:{ml:"0.5ch"}})}})})]})}),Object(xe.jsx)(h.b,{justifyContent:"flex-end",children:Object(xe.jsx)(mi,{})})]})]})}):Object(xe.jsx)(E.a,{})})]}),Object(xe.jsx)(S.a,{isOpen:!0})]}):Object(xe.jsx)(x.a,{to:"/"})}},"./src/pages/RemoveLiquidityProAmm/styled.tsx":function(e,t,i){"use strict";i.d(t,"b",(function(){return j})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"c",(function(){return x})),i.d(t,"a",(function(){return O})),i.d(t,"g",(function(){return v})),i.d(t,"h",(function(){return h}));var n,o,s,a,r,c=i("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=i("./src/components/Card/index.tsx"),b=i("./src/components/Column/index.tsx"),j=d.default.div.withConfig({displayName:"styled__Container",componentId:"sc-12rct2w-0"})(["text-align:center;width:calc(100% - 24px);margin:0 auto 12px;max-width:1200px;border-radius:0.5rem;"]),u=d.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-12rct2w-1"})(["display:grid;gap:1.5rem;grid-template-columns:1.35fr 2fr;",""],(e=>e.theme.mediaWidth.upToMedium(n||(n=Object(c.a)(["\n    grid-template-columns: 1fr;\n  "]))))),p=Object(d.default)(b.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-12rct2w-2"})(["height:fit-content;padding-right:24px;border-right:1px solid ",";grid-auto-rows:min-content;gap:1rem;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(c.a)(["\n    border: none;\n    padding-right: 0;\n    gap: 20px;\n  "]))))),m=Object(d.default)(b.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-12rct2w-3"})(["border-radius:1.25rem;grid-auto-rows:min-content;"]),x=d.default.div.withConfig({displayName:"styled__Content",componentId:"sc-12rct2w-4"})(["background:",";padding:24px;border:1px solid ",";border-radius:20px;",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(c.a)(["\n    padding: 1rem;\n  "]))))),O=Object(d.default)(l.a).withConfig({displayName:"styled__AmoutToRemoveContent",componentId:"sc-12rct2w-5"})(["padding:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(a||(a=Object(c.a)(["\n    padding: 0;\n    background: transparent;\n  "]))))),v=d.default.div.withConfig({displayName:"styled__TokenId",componentId:"sc-12rct2w-6"})(["font-size:1rem;font-weight:500;color:",";"],(e=>e.color)),h=d.default.div.withConfig({displayName:"styled__TokenInputWrapper",componentId:"sc-12rct2w-7"})(["display:flex;gap:1rem;width:100%;margin-top:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(c.a)(["\n    flex-direction: column;\n  "])))))}}]);